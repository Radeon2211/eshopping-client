(this["webpackJsonpeshopping-app-client"]=this["webpackJsonpeshopping-app-client"]||[]).push([[4],{204:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(129),i=t(13),o=t(6),c=t(32),s=t(11),u=t(2),m=t(1);function d(){var e=Object(u.a)(["\n  min-height: 14rem;\n  position: relative;\n\n  & .photo-box {\n    align-items: center;\n    display: flex;\n    height: 45rem;\n    justify-content: center;\n    margin-right: ",";\n    padding: "," ",";\n    width: 100%;\n  }\n\n  & .photo {\n    object-fit: cover;\n    max-height: 100%;\n    max-width: 100%;\n  }\n\n  & .data-box {\n    align-self: stretch;\n    display: flex;\n    flex-direction: column;\n  }\n\n  & .name {\n    font-size: ",";\n    font-weight: 700;\n  }\n\n  & .seller {\n    font-size: ",";\n    margin-top: ",";\n  }\n\n  & .seller-link {\n    color: ",";\n    font-size: ",";\n  }\n\n  & .condition {\n    font-size: ",";\n    margin-top: ",";\n  }\n\n  & .price {\n    font-size: 2.7rem;\n    letter-spacing: 1px;\n    margin: "," 0;\n  }\n\n  & .quantity-sold {\n    font-size: ",";\n    margin-bottom: ",";\n  }\n\n  & .description-box {\n    display: flex;\n    flex-direction: column;\n    margin-top: ",";\n  }\n\n  & .description-heading {\n    display: inline-block;\n    font-size: ",";\n    font-weight: 700;\n    margin-bottom: ",";\n  }\n\n  & .description-content {\n    font-size: ",";\n  }\n\n  & .delete-btn-box {\n    margin-top: ",";\n    text-align: center;\n  }\n\n  & .gray {\n    color: ",";\n  }\n\n  @media only screen and (max-width: 56.25em) {\n    & .photo-box {\n      margin-right: ",";\n    }\n  }\n"]);return d=function(){return e},e}var f=m.c.div(d(),(function(e){return e.theme.spacings.level5}),(function(e){return e.theme.spacings.level1}),(function(e){return e.theme.spacings.level2}),(function(e){return e.theme.fontSizes.level4}),(function(e){return e.theme.fontSizes.level2}),(function(e){return e.theme.spacings.level2}),(function(e){return e.theme.colors.green}),(function(e){return e.theme.fontSizes.level2}),(function(e){return e.theme.fontSizes.level2}),(function(e){return e.theme.spacings.level2}),(function(e){return e.theme.spacings.level3}),(function(e){return e.theme.fontSizes.level2}),(function(e){return e.theme.spacings.level3}),(function(e){return e.theme.spacings.level3}),(function(e){return e.theme.fontSizes.level4}),(function(e){return e.theme.spacings.level1}),(function(e){return e.theme.fontSizes.level3}),(function(e){return e.theme.spacings.level5}),(function(e){return e.theme.colors.light4}),(function(e){return e.theme.spacings.level3})),p=t(82),h=t(80),g=t(30),v=t(41),b=t(9);function E(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-items: stretch;\n\n  & > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n\n  & .quantity-box {\n    align-items: center;\n    display: flex;\n  }\n\n  & .quantity-number {\n    font-size: ",";\n    margin-left: ",";\n  }\n\n  & .not-able-to-buy {\n    font-size: ",";\n    font-weight: 700;\n  }\n"]);return E=function(){return e},e}var y=m.c.div(E(),(function(e){return e.theme.spacings.level2}),(function(e){return e.theme.fontSizes.level2}),(function(e){return e.theme.spacings.level1}),(function(e){return e.theme.fontSizes.level4})),x=t(16),O=t(73),z=t(15);function j(){return(j=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function N(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var S=r.a.createElement("path",{d:"M0 10h24v4H0z"}),k=function(e){var n=e.svgRef,t=e.title,a=N(e,["svgRef","title"]);return r.a.createElement("svg",j({viewBox:"0 0 24 24",width:24,height:24,ref:n},a),t?r.a.createElement("title",null,t):null,S)},w=r.a.forwardRef((function(e,n){return r.a.createElement(k,j({svgRef:n},e))})),q=(t.p,t(83)),C=t(54);function P(){var e=Object(u.a)(["\n  align-items: stretch;\n  display: flex;\n\n  & .button {\n    background-color: transparent;\n    border: 1px solid ",";\n    border-radius: 1px;\n    cursor: pointer;\n    outline: none;\n    padding: 0 ",";\n\n    &[disabled] {\n      cursor: default;\n    }\n\n    &.minus {\n      border-right: 0;\n    }\n\n    &.plus {\n      border-left: 0;\n    }\n  }\n"]);return P=function(){return e},e}var _={};_.Wrapper=m.c.div(P(),(function(e){return e.theme.colors.light4}),(function(e){return e.theme.spacings.level2}));var D=function(e){var n=e.name,t=e.value,a=e.maxQuantity,l=e.incremented,i=e.decremented,o=e.changed,c=e.blured;return r.a.createElement(_.Wrapper,null,r.a.createElement("button",{type:"button",className:"button minus",disabled:t<=1,onClick:i},r.a.createElement(z.a,{size:"small",color:t<=1?C.a.colors.light2:""},r.a.createElement(w,null))),r.a.createElement(O.a,{name:n,size:"small",value:t,changed:o,blured:c,focusable:!1}),r.a.createElement("button",{type:"button",className:"button plus",disabled:t>=a,onClick:l},r.a.createElement(z.a,{size:"small",color:t>=a?C.a.colors.light2:""},r.a.createElement(q.a,null))))},F=function(e){var n=e.productQuantity,t=e.productSellerId,l=e.onSetModal,i=e.userProfile,o=Object(a.useState)(1),s=Object(b.a)(o,2),u=s[0],m=s[1],d=r.a.createElement("span",{className:"not-able-to-buy"},"You are the seller of this product");if((null===i||void 0===i?void 0:i._id)!==t){var f="of ".concat(n," piece").concat(n>1?"s":"");d=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"quantity-box"},r.a.createElement(D,{name:"quantity",maxQuantity:n,value:u,incremented:function(){u<n&&m((function(e){return e+1}))},decremented:function(){u>1&&m((function(e){return e-1}))},changed:function(e){var t=+e.target.value||"";t||m(t),t<1||t>n||m(t)},blured:function(e){var t=+e.target.value;m(!t||t<1?1:t>n?n:t)}}),r.a.createElement("span",{className:"quantity-number"},f)),r.a.createElement(x.a,{filled:!0,clicked:function(){i||l(!0,c.h)}},"Add to cart"),r.a.createElement(x.a,{filled:!0,clicked:function(){i||l(!0,c.h)}},"Buy now"))}return r.a.createElement(y,null,d)};F.defaultProps={productSellerId:void 0,userProfile:null};var I=F,Q=t(127),R=t.n(Q),L=t(27);n.default=function(e){var n=e.match.params.id,t=Object(l.a)(),u=Object(o.c)((function(e){return e.auth.profile})),m=Object(o.c)((function(e){return e.product.productDetails})),d=Object(o.c)((function(e){return e.ui.isDataLoading})),b=Object(o.b)(),E=Object(a.useCallback)((function(e){return b(s.i(e))}),[b]),y=Object(a.useCallback)((function(){return b(s.h())}),[b]),O=Object(a.useCallback)((function(e,n){return b(s.o(e,n))}),[b]);Object(a.useEffect)((function(){return E(n),function(){return y()}}),[n,E,y]);var z=null;d&&(z=r.a.createElement(p.a,{alignLoader:"top",loaderSize:"small"}));var j=null;if(null===m)j=r.a.createElement(g.a,{variant:"h4"},"Such product does not exist or has already been sold");else if(m){var N=m.condition,S=m.description,k=m.name,w=m.photo,q=m.price,C=m.quantity,P=m.quantitySold,_=m.seller,D=m._id,F="not_applicable"!==N?N:"not applicable",Q=null;P>=1&&(Q=r.a.createElement("span",{className:"quantity-sold gray"},1===P?"1 person":"".concat(P," people")," bought"));var M=t<=900?"1/1":"3/2",W=r.a.createElement("span",{className:"description-heading"},"This product has no description");S&&(W=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"description-heading"},"Description"),r.a.createElement("span",{className:"description-content"},S)));var A=null;((null===u||void 0===u?void 0:u._id)===_._id||(null===u||void 0===u?void 0:u.isAdmin))&&(A=r.a.createElement("div",{className:"delete-btn-box"},r.a.createElement(x.a,{color:"red",clicked:function(){return O(!0,c.g)}},"Delete offer"))),j=r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{proportion:M,makeVerticalWhen:600},r.a.createElement("div",{className:"photo-box"},r.a.createElement("img",{src:w?"".concat(L.a,"/products/").concat(D,"/photo"):R.a,alt:"product",className:"photo"})),r.a.createElement("div",{className:"data-box"},r.a.createElement("span",{className:"name"},k),r.a.createElement("span",{className:"seller"},r.a.createElement("span",{className:"gray"},"from "),r.a.createElement(i.Link,{to:"/users/".concat(_._id),className:"seller-link"},_.username)),r.a.createElement("span",{className:"condition"},r.a.createElement("span",{className:"gray"},"Condition: "),"".concat(F.slice(0,1).toUpperCase()).concat(F.slice(1))),r.a.createElement("span",{className:"price"},"$",q.toFixed(2)),Q,r.a.createElement(I,{productQuantity:C,productSellerId:_._id,onSetModal:O,userProfile:u}))),r.a.createElement("div",{className:"description-box"},W),A)}return r.a.createElement(h.a,null,r.a.createElement(f,null,z,j))}}}]);