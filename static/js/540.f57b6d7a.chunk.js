"use strict";(self.webpackChunkeshopping_app_client=self.webpackChunkeshopping_app_client||[]).push([[540],{6715:(e,n,t)=>{t.d(n,{Z:()=>f});var r,a,i,s=t(2791),l=t(9741),c=t(168),o=t(545),d=t(2268);const u=(0,o.ZP)(d.Z)(r||(r=(0,c.Z)(["\n  padding-top: ",";\n\n  &:last-child {\n    padding-bottom: 0;\n  }\n"])),(e=>{let{theme:n}=e;return n.spacings.level3})),h=o.ZP.div(a||(a=(0,c.Z)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n\n  & > *:not(:last-child) {\n    margin-right: ",";\n  }\n\n  & .name {\n    flex: 2;\n    font-size: ",";\n\n    & > a {\n      transition: color ","s;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n\n  @media only screen and (max-width: 56.25em) {\n    align-items: start;\n    flex-direction: column;\n    justify-content: center;\n\n    & > *:not(:last-child) {\n      margin-right: 0;\n      margin-bottom: ",";\n    }\n\n    & .name {\n      flex: initial;\n    }\n  }\n"])),(e=>{let{theme:n}=e;return n.spacings.level1}),(e=>{let{theme:n}=e;return n.fontSizes.level3}),(e=>{let{theme:n}=e;return n.durations.level1}),(e=>{let{theme:n}=e;return n.colors.green}),(e=>{let{theme:n}=e;return n.spacings.level1})),p=(0,o.ZP)(d.Z)(i||(i=(0,c.Z)(["\n  @media only screen and (max-width: 56.25em) {\n    flex: initial;\n  }\n"])));var m=t(5914),x=t(7662),j=t(3330),v=t(478),g=t(184);const y=s.memo((e=>{let{data:n,orderId:t}=e;const{_id:r,name:a,price:i,quantity:s,photo:c}=n,o=(0,v.t$)(i*s);return(0,g.jsxs)(u,{spacing:"2","data-testid":"TransactionAndOrderProdItem",children:[(0,g.jsx)(l.rU,{to:"/product/".concat(r),"data-testid":"TransactionAndOrderProdItem-product-link-photo",children:(0,g.jsx)(x.Z,{photo:c,alt:a,productId:r,width:"5",height:"5",orderId:t})}),(0,g.jsxs)(h,{children:[(0,g.jsx)("span",{className:"name",children:(0,g.jsx)(l.rU,{to:"/product/".concat(r),"data-testid":"TransactionAndOrderProdItem-product-link-name",children:a})}),(0,g.jsxs)(p,{justify:"space-between",align:"center",flex:"1",children:[(0,g.jsx)(j.Z,{size:"2",color:m.Z.colors.light4,"data-testid":"TransactionAndOrderProdItem-product-price-per-piece",children:"".concat(s," x ").concat((0,v.T4)(i))}),(0,g.jsx)(j.Z,{size:"4","data-testid":"TransactionAndOrderProdItem-product-overall-price",children:(0,v.T4)(o)})]})]})]})}));y.defaultProps={orderId:""};const f=y},7540:(e,n,t)=>{t.r(n),t.d(n,{default:()=>re});var r,a,i,s=t(2791),l=t(9434),c=t(9741),o=t(8515),d=t(168),u=t(545);const h=u.ZP.div(r||(r=(0,d.Z)(["\n  & .nav {\n    background-color: ",";\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.15);\n    left: 0;\n    padding-bottom: ",";\n    position: fixed;\n    top: 6.2rem;\n    width: 100%;\n    z-index: ",";\n  }\n\n  & .nav-list {\n    display: flex;\n    justify-content: center;\n    list-style: none;\n  }\n\n  & .nav-link {\n    border-bottom: 2px solid transparent;\n    display: block;\n    font-size: ",";\n    letter-spacing: 1px;\n    padding: ",";\n    text-transform: uppercase;\n    transition: all ","s;\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  & .nav-link-active {\n    border-bottom: 2px solid ",";\n    color: ",";\n    cursor: default;\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  @media only screen and (max-width: 37.5em) {\n    & .nav {\n      top: 10.8rem;\n    }\n\n    & .nav-list {\n      justify-content: center;\n    }\n  }\n\n  @media only screen and (max-width: 24.5em) {\n    & .nav-link {\n      letter-spacing: 0;\n    }\n  }\n\n  @media only screen and (max-width: 22.5em) {\n    & .nav-link {\n      font-size: ",";\n      padding: ",";\n    }\n  }\n"])),(e=>{let{theme:n}=e;return n.colors.light1}),(e=>{let{theme:n}=e;return n.spacings.level1}),(e=>{let{theme:n}=e;return n.zIndexes.level3}),(e=>{let{theme:n}=e;return n.fontSizes.level2}),(e=>{let{theme:n}=e;return n.spacings.level2}),(e=>{let{theme:n}=e;return n.durations.level1}),(e=>{let{theme:n}=e;return n.colors.green}),(e=>{let{theme:n}=e;return n.colors.blue}),(e=>{let{theme:n}=e;return n.colors.blue}),(e=>{let{theme:n}=e;return n.colors.blue}),(e=>{let{theme:n}=e;return n.fontSizes.level1}),(e=>{let{theme:n}=e;return n.spacings.level1})),p=u.ZP.div(a||(a=(0,d.Z)(["\n  ","\n"])),(e=>{let{extraMargin:n,theme:t}=e;return n?"\n        margin-top: ".concat(t.spacings.level5,";\n      "):""})),m=u.ZP.div(i||(i=(0,d.Z)(["\n  max-width: 100%;\n  margin: 0 auto;\n  width: 80rem;\n"])));var x,j;const v=u.ZP.div(x||(x=(0,d.Z)(["\n  display: grid;\n  grid-gap: ",";\n  grid-template-columns: repeat(3, 1fr);\n\n  & .change-passwd-btn {\n    grid-area: 3 / 2 / 3 / 3;\n  }\n\n  & .actions {\n    grid-column: 1 / -1;\n  }\n\n  @media only screen and (max-width: 37.5em) {\n    grid-template-columns: repeat(2, 1fr);\n\n    & .change-passwd-btn {\n      grid-area: 4 / 1 / 4 / 3;\n    }\n\n    & .actions > * {\n      flex: 1;\n    }\n  }\n"])),(e=>{let{theme:n}=e;return n.spacings.level3}));(0,u.ZP)(c.rU)(j||(j=(0,d.Z)(["\n  @media only screen and (max-width: 37.5em) {\n    & > * {\n      width: 100%;\n    }\n  }\n"])));var g=t(134),y=t(6054),f=t(2626),Z=t(2268),k=t(2778),A=t(132),E=t(3330),O=t(184);function b(e){let{name:n,content:t,clickHandler:r}=e,a="";a=n===y.Od.ADDRESS?(0,O.jsx)(Z.Z,{direction:"column",spacing:"1",children:t.map(((e,n)=>(0,O.jsx)(E.Z,{size:"3",wordBreak:"break-all",children:e},n)))}):n===y.Od.CONTACTS?(0,O.jsxs)(Z.Z,{direction:"column",spacing:"1",children:[(0,O.jsxs)(E.Z,{size:"3",wordBreak:"break-all",children:["Email:\xa0",t.email?"visible":"hidden"]}),(0,O.jsxs)(E.Z,{size:"3",wordBreak:"break-all",children:["Phone number:\xa0",t.phone?"visible":"hidden"]})]}):(0,O.jsx)(E.Z,{size:"3",wordBreak:"break-all",children:t});let i=null;return r&&(i=(0,O.jsx)(A.Z,{clicked:r,"data-testid":"SingleInfo-".concat(n,"-btn"),children:"Change"})),(0,O.jsxs)(Z.Z,{direction:"column",spacing:"2",align:"start","data-testid":"SingleInfo-".concat(n),children:[(0,O.jsx)(k.Z,{variant:"h4",children:n}),a,i]})}b.defaultProps={clickHandler:void 0};var N=t(478),C=t(3397);function P(e){let{history:n}=e;const t=(0,l.v9)((e=>e.auth.profile)),r=(0,l.I0)(),a=(0,s.useCallback)((e=>r(g.cf(e))),[r]);(0,s.useEffect)((()=>{(0,N.k3)()}),[]);let i=null,c=null;if(t){const{firstName:e,lastName:r,username:s,email:l,street:o,zipCode:d,city:u,country:h,phone:p,contacts:m,status:x,isAdmin:j}=t,v=x===y.Nj.ACTIVE;let g=null;j&&(g=(0,O.jsxs)(Z.Z,{spacing:"3",className:"actions",justify:"center","data-testid":"MyData-admin-content",children:[(0,O.jsx)(A.Z,{clicked:()=>a(y.KW.ADD_ADMIN),children:"Add admin"}),(0,O.jsx)(A.Z,{color:"red",clicked:()=>a(y.KW.REMOVE_ADMIN),children:"Remove admin"})]}));let k=null;v||(k=(0,O.jsxs)(Z.Z,{spacing:"3",justify:"center",className:"actions","data-testid":"MyData-pending-user-actions",children:[(0,O.jsx)(A.Z,{clicked:()=>a(y.KW.SEND_VERIFICATION_LINK),children:"Send verification link"}),(0,O.jsx)(A.Z,{clicked:()=>n.push("/logout"),children:"Logout"})]})),i=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(b,{name:y.Od.USERNAME,content:s}),(0,O.jsx)(b,{name:y.Od.NAME,content:"".concat(e," ").concat(r),clickHandler:v?()=>a(y.KW.CHANGE_NAME):null}),(0,O.jsx)(b,{name:y.Od.EMAIL,content:l,clickHandler:v?()=>a(y.KW.CHANGE_EMAIL):null}),(0,O.jsx)(b,{name:y.Od.ADDRESS,content:[o,"".concat(d," ").concat(u),h],clickHandler:v?()=>a(y.KW.CHANGE_ADDRESS):null}),(0,O.jsx)(b,{name:y.Od.CONTACTS,content:m,clickHandler:v?()=>a(y.KW.CHANGE_CONTACTS):null}),(0,O.jsx)(b,{name:y.Od.PHONE_NUMBER,content:p,clickHandler:v?()=>a(y.KW.CHANGE_PHONE_NUMBER):null}),k,(0,O.jsxs)(Z.Z,{spacing:"3",className:"actions",justify:"center",children:[v&&(0,O.jsx)(A.Z,{clicked:()=>a(y.KW.CHANGE_PASSWORD),children:"Change password"}),(0,O.jsx)(A.Z,{color:"red",clicked:()=>a(y.KW.DELETE_ACCOUNT),children:"Delete account"})]}),g]}),v||(c=(0,O.jsx)(f.Z,{"data-testid":"MyData-pending-user-content",children:(0,O.jsx)(E.Z,{size:"3",lineHeight:"5",children:"You need to activate your account to unlock all app functionalities. Verification link is active for 10 minutes. You can resend it below. If you do not activate your account within 1 hour, account will be deleted permanently."})}))}return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(C.Z,{title:"Your account data - E-Shopping",description:"Check out your account informations"}),(0,O.jsx)(k.Z,{variant:"h3",children:"My data"}),(0,O.jsxs)(Z.Z,{direction:"column",spacing:"3",children:[c,(0,O.jsx)(f.Z,{children:(0,O.jsx)(v,{children:i})})]})]})}var S=t(4278),T=t(8828);function _(e){let{userProfile:n,location:t}=e;const{search:r}=t,a=(0,T.Z)(),i=(0,l.v9)((e=>e.ui.productsPerPage)),c=(0,l.I0)(),o=(0,s.useCallback)(((e,n)=>c(g.t2(e,n))),[c]);return(0,s.useEffect)((()=>{o(r,y.Gx.MY_PRODUCTS),null!==a&&void 0!==a&&a.pathname.startsWith("/product/")||(0,N.k3)()}),[r,o,i,n,a]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(C.Z,{title:"Your offers - E-Shopping",description:"Check out your offers"}),(0,O.jsx)(k.Z,{variant:"h3",children:"My products"}),(0,O.jsx)(S.Z,{page:y.Gx.MY_PRODUCTS})]})}var D,I,w=t(2007),M=t.n(w),R=t(5328),z=t(4666);const L=u.ZP.div(D||(D=(0,d.Z)(["\n  position: relative;\n"]))),W=u.ZP.div(I||(I=(0,d.Z)(["\n  padding: "," 0;\n  border-bottom: 1px solid ",";\n\n  &:first-child {\n    padding-top: 0;\n  }\n"])),(e=>{let{theme:n}=e;return n.spacings.level3}),(e=>{let{theme:n}=e;return n.colors.light3}));var H=t(5914),U=t(593),K=t(6715),Y=t(3818),B=t(9776);function G(e){let{orders:n,orderType:t}=e;const r=(0,l.v9)((e=>e.ui.isDataLoading)),a=n.map((e=>{var n,r;const a=t===y.c7.PLACED_ORDERS?null===(n=e.seller)||void 0===n?void 0:n.username:null===(r=e.buyer)||void 0===r?void 0:r.username,i=t===y.c7.PLACED_ORDERS?"seller ":"buyer ";return(0,O.jsxs)(W,{"data-testid":"OrderList-single-order",children:[(0,O.jsxs)(Z.Z,{justify:"space-between",align:"flex-end",spacing:"3",children:[(0,O.jsxs)(E.Z,{size:"3",children:[(0,O.jsx)("span",{"data-testid":"OrderList-user-type",children:i}),a?(0,O.jsx)(c.rU,{to:"/user/".concat(a,"?p=1"),"data-testid":"OrderList-user-link",children:(0,O.jsx)(U._,{children:a})}):(0,O.jsx)(E.Z,{fStyle:"italic","data-testid":"OrderList-account-deleted",children:"(account has been deleted)"})]}),(0,O.jsx)(E.Z,{size:"2","data-testid":"OrderList-created-at-date",children:(0,N.mN)(e.createdAt)})]}),e.products.map((n=>(0,O.jsx)(K.Z,{data:n,orderId:e._id},n._id))),(0,O.jsxs)(Z.Z,{mgTop:"3",justify:"space-between",align:"center",spacing:"3",children:[(0,O.jsx)(c.rU,{to:"/order/".concat(e._id),"data-testid":"OrderList-order-details-link",children:(0,O.jsx)(A.Z,{children:"details"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)(E.Z,{size:"3",mgRight:"1",spacing:"1px",color:H.Z.colors.light4,children:"TOTAL"}),(0,O.jsx)(E.Z,{size:"5","data-testid":"OrderList-overall-price",children:(0,N.T4)(e.overallPrice)})]})]})]},e._id)})),i=r?(0,O.jsx)(Y.Z,{}):null;return(0,O.jsxs)(L,{children:[a,i]})}var V,q=t(4533),F=t(4245);const Q={};Q.Wrapper=u.ZP.div(V||(V=(0,d.Z)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  margin-right: ",";\n\n  & .label {\n    font-size: ",";\n    margin-right: ",";\n  }\n\n  & .select {\n    font-size: ",";\n    flex: 1;\n    max-width: 22rem;\n    z-index: ",";\n  }\n"])),(e=>{let{theme:n}=e;return n.spacings.level2}),(e=>{let{theme:n}=e;return n.fontSizes.level3}),(e=>{let{theme:n}=e;return n.spacings.level2}),(e=>{let{theme:n}=e;return n.fontSizes.level2}),(e=>{let{theme:n}=e;return n.zIndexes.level2}));const $={control:e=>({...e,minHeight:"25px"}),dropdownIndicator:e=>({...e,padding:"0.6rem"})};function J(){const[e,n]=(0,s.useState)(y.oW[0]),t=(0,o.k6)(),{search:r,pathname:a}=t.location;return(0,O.jsxs)(Q.Wrapper,{children:[(0,O.jsx)("label",{htmlFor:"sortOption",className:"label",children:"Sort"}),(0,O.jsx)(q.ZP,{options:y.oW,value:e,onChange:i=>{if(i.value===e.value)return;n(i);const s=(0,N.dy)(r);s.sortBy=i.value;const l=F.stringify(s);t.replace("".concat(a,"?").concat(l))},isSearchable:!1,styles:$,id:"sortOption",className:"select"})]})}var X=t(3288);function ee(e){let{orders:n,type:t}=e;const{search:r}=(0,o.TH)(),a=(0,l.v9)((e=>e.auth.orderCount)),i=(0,l.I0)(),c=(0,s.useCallback)(((e,n)=>i(g.AU(e,n))),[i]);(0,s.useEffect)((()=>{c(r,t)}),[c,t,r]);let d=(0,O.jsx)(X.Z,{align:"center"});return null===n?d=(0,O.jsx)(k.Z,{variant:"h4",align:"center","data-testid":"Orders-error",children:t===y.c7.PLACED_ORDERS?"There is a problem to fetch your placed orders":"There is a problem to fetch your sell history"}):n&&(n.length<=0?d=(0,O.jsx)(k.Z,{variant:"h4",align:"center","data-testid":"Orders-no-orders-info",children:t===y.c7.PLACED_ORDERS?"You don't have any placed orders yet":"Your sell history is empty"}):a>0&&(d=(0,O.jsxs)(f.Z,{children:[(0,O.jsxs)(U.k,{children:[(0,O.jsx)(J,{}),(0,O.jsx)(R.Z,{itemQuantity:a,quantityPerPage:y.Aq})]}),(0,O.jsx)(G,{orders:n,orderType:t}),(0,O.jsx)(z.Z,{itemQuantity:a,itemsType:y.Vd.ORDER,quantityPerPage:y.Aq})]}))),d}function ne(){const e=(0,T.Z)(),n=(0,l.v9)((e=>e.auth.sellHistory));return(0,s.useEffect)((()=>{null!==e&&void 0!==e&&e.pathname.startsWith("/order/")||(0,N.k3)()}),[e]),(0,O.jsxs)(m,{children:[(0,O.jsx)(C.Z,{title:"Your sell history - E-Shopping",description:"Check out your sell history"}),(0,O.jsx)(k.Z,{variant:"h3",children:"My sell history"}),(0,O.jsx)(ee,{orders:n,type:y.c7.SELL_HISTORY})]})}function te(){const e=(0,T.Z)(),n=(0,l.v9)((e=>e.auth.placedOrders));return(0,s.useEffect)((()=>{null!==e&&void 0!==e&&e.pathname.startsWith("/order/")||(0,N.k3)()}),[e]),(0,O.jsxs)(m,{children:[(0,O.jsx)(C.Z,{title:"Your placed orders - E-Shopping",description:"Check out orders that you placed"}),(0,O.jsx)(k.Z,{variant:"h3",children:"My placed orders"}),(0,O.jsx)(ee,{orders:n,type:y.c7.PLACED_ORDERS})]})}function re(){const e=(0,l.v9)((e=>e.auth.profile));let n=null;e.status===y.Nj.ACTIVE&&(n=(0,O.jsx)("nav",{className:"nav","data-testid":"MyAccount-navigation",children:(0,O.jsxs)("ul",{className:"nav-list",children:[(0,O.jsx)("li",{children:(0,O.jsx)(c.OL,{to:"/my-account/data",className:"nav-link",activeClassName:"nav-link-active","data-testid":"MyAccount-data-link",children:"Data"})}),(0,O.jsx)("li",{children:(0,O.jsx)(c.OL,{to:"/my-account".concat(y.Bh),className:"nav-link",activeClassName:"nav-link-active","data-testid":"MyAccount-products-link",children:"Products"})}),(0,O.jsx)("li",{children:(0,O.jsx)(c.OL,{to:"/my-account/sell-history?p=1",className:"nav-link",activeClassName:"nav-link-active","data-testid":"MyAccount-sell-history-link",children:"Sell history"})}),(0,O.jsx)("li",{children:(0,O.jsx)(c.OL,{to:"/my-account/placed-orders?p=1",className:"nav-link",activeClassName:"nav-link-active","data-testid":"MyAccount-placed-orders-link",children:"Placed orders"})})]})}));let t=(0,O.jsx)(p,{extraMargin:!1,"data-testid":"MyAccount-pending-user-routes",children:(0,O.jsxs)(o.rs,{children:[(0,O.jsx)(o.AW,{path:"/my-account/data",exact:!0,component:P}),(0,O.jsx)(o.l_,{to:"/my-account/data"})]})});return e.status===y.Nj.ACTIVE&&(t=(0,O.jsx)(p,{extraMargin:!0,"data-testid":"MyAccount-active-user-routes",children:(0,O.jsxs)(o.rs,{children:[(0,O.jsx)(o.AW,{path:"/my-account/data",exact:!0,component:P}),(0,O.jsx)(o.AW,{path:"/my-account/products",exact:!0,render:n=>(0,O.jsx)(_,{userProfile:e,...n})}),(0,O.jsx)(o.AW,{path:"/my-account/sell-history",exact:!0,component:ne}),(0,O.jsx)(o.AW,{path:"/my-account/placed-orders",exact:!0,component:te}),(0,O.jsx)(o.l_,{to:"/my-account/data"})]})})),(0,O.jsxs)(h,{children:[n,t]})}ee.defaultProps={orders:void 0},ee.propTypes={orders:M().arrayOf(M().shape(B.Hh)),type:M().string.isRequired}}}]);
//# sourceMappingURL=540.f57b6d7a.chunk.js.map