{"version":3,"sources":["components/TransactionAndOrderProdItem/TransactionAndOrderProdItem.sc.js","components/TransactionAndOrderProdItem/TransactionAndOrderProdItem.js","images/icons/minus.svg","components/UI/ChooseQuantity/ChooseQuantity.js","components/UI/DeliveryAddress/DeliveryAddress.js","components/UI/Panels/StickyPanel.js","components/UI/ToPayInfo/ToPayInfo.js","images/icons/trash.svg","components/CartAndTransactionItems/CartItem/CartItem.sc.js","components/CartAndTransactionItems/CartItem/CartItem.js","components/CartAndTransactionItems/CartAndTransactionItems.js","containers/Transaction/DeliveryAddressSection/DeliveryAddressSection.js","containers/Transaction/Transaction.js"],"names":["Wrapper","styled","FlexWrapper","theme","spacings","level3","NameAndPrice","div","level1","fontSizes","durations","colors","green","Price","TransactionAndOrderProdItem","React","memo","data","orderId","productId","_id","name","price","quantity","photo","roundedOverallPrice","roundOverallPrice","spacing","data-testid","to","ProductThumbnail","alt","width","height","className","justify","align","flex","PlainText","size","color","light4","formatPrice","defaultProps","_path","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgMinus","_ref","svgRef","title","titleId","props","xmlns","viewBox","ref","id","d","ForwardRef","SC","ChooseQuantity","value","maxQuantity","incremented","decremented","changed","blured","focused","type","disabled","onClick","aria-label","MyIcon","themeStyles","light2","NumberInput","level2","DeliveryAddress","firstName","lastName","street","zipCode","city","country","phone","rowValues","direction","map","idx","wordBreak","StickyPanel","children","wrapperRef","useRef","useEffect","current","IntersectionObserver","e","classList","toggle","intersectionRatio","threshold","observe","section","light3","ToPayInfo","wrap","level4","SvgTrash","CartItem","isCartLoading","itemId","product","productQuantity","useState","inputValue","setInputValue","isInputFocused","setIsInputFocused","dispatch","useDispatch","onUpdateCartItem","useCallback","cartItemId","action","itemQuantity","actions","onRemoveCartItem","prevState","updateCartActions","INCREMENT","DECREMENT","NUMBER","mgLeft","textAlign","red","CartAndTransactionItems","items","sellersObject","reduce","acc","item","sellerUsername","itemTypes","CART","seller","username","push","entries","rest","listItem","SingleSeller","display","undefined","propTypes","PropTypes","oneOfType","arrayOf","shape","isRequired","string","number","bool","oneOf","TRANSACTION","DeliveryAddressSection","onSetModal","deliveryAddress","useSelector","state","auth","PlainPanel","Heading","variant","Button","clicked","modalTypes","CHANGE_DELIVERY_ADDRESS","Transaction","history","useHistory","transaction","modalContent","onSetTransaction","scrollToTop","replace","unlisten","listen","location","pathname","content","toPayValue","roundedToPayValue","SideBySide","proportion","makeVerticalWhen","filled","BUY_PRODUCTS","MetaDescriptor"],"mappings":"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","file":"static/js/3.3fdf7493.chunk.js","sourcesContent":["import styled from 'styled-components';\r\nimport FlexWrapper from '../UI/FlexWrapper';\r\n\r\nexport const Wrapper = styled(FlexWrapper)`\r\n  padding-top: ${({ theme }) => theme.spacings.level3};\r\n\r\n  &:last-child {\r\n    padding-bottom: 0;\r\n  }\r\n`;\r\n\r\nexport const NameAndPrice = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n\r\n  & > *:not(:last-child) {\r\n    margin-right: ${({ theme }) => theme.spacings.level1};\r\n  }\r\n\r\n  & .name {\r\n    flex: 2;\r\n    font-size: ${({ theme }) => theme.fontSizes.level3};\r\n\r\n    & > a {\r\n      transition: color ${({ theme }) => theme.durations.level1}s;\r\n\r\n      &:hover {\r\n        color: ${({ theme }) => theme.colors.green};\r\n      }\r\n    }\r\n  }\r\n\r\n  @media only screen and (max-width: 56.25em) {\r\n    align-items: start;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n\r\n    & > *:not(:last-child) {\r\n      margin-right: 0;\r\n      margin-bottom: ${({ theme }) => theme.spacings.level1};\r\n    }\r\n\r\n    & .name {\r\n      flex: initial;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Price = styled(FlexWrapper)`\r\n  @media only screen and (max-width: 56.25em) {\r\n    flex: initial;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport * as SC from './TransactionAndOrderProdItem.sc';\r\nimport theme from '../../styled/theme';\r\nimport ProductThumbnail from '../UI/ProductThumbnail/ProductThumbnail';\r\nimport PlainText from '../UI/PlainText';\r\nimport { formatPrice, roundOverallPrice } from '../../shared/utility/utility';\r\n\r\nconst TransactionAndOrderProdItem = React.memo(({ data, orderId }) => {\r\n  const { _id: productId, name, price, quantity, photo } = data;\r\n\r\n  const roundedOverallPrice = roundOverallPrice(price * quantity);\r\n\r\n  return (\r\n    <SC.Wrapper spacing=\"2\" data-testid=\"TransactionAndOrderProdItem\">\r\n      <Link\r\n        to={`/product/${productId}`}\r\n        data-testid=\"TransactionAndOrderProdItem-product-link-photo\"\r\n      >\r\n        <ProductThumbnail\r\n          photo={photo}\r\n          alt={name}\r\n          productId={productId}\r\n          width=\"5\"\r\n          height=\"5\"\r\n          orderId={orderId}\r\n        />\r\n      </Link>\r\n      <SC.NameAndPrice>\r\n        <span className=\"name\">\r\n          <Link\r\n            to={`/product/${productId}`}\r\n            data-testid=\"TransactionAndOrderProdItem-product-link-name\"\r\n          >\r\n            {name}\r\n          </Link>\r\n        </span>\r\n        <SC.Price justify=\"space-between\" align=\"center\" flex=\"1\">\r\n          <PlainText\r\n            size=\"2\"\r\n            color={theme.colors.light4}\r\n            data-testid=\"TransactionAndOrderProdItem-product-price-per-piece\"\r\n          >\r\n            {`${quantity} x ${formatPrice(price)}`}\r\n          </PlainText>\r\n          <PlainText size=\"4\" data-testid=\"TransactionAndOrderProdItem-product-overall-price\">\r\n            {formatPrice(roundedOverallPrice)}\r\n          </PlainText>\r\n        </SC.Price>\r\n      </SC.NameAndPrice>\r\n    </SC.Wrapper>\r\n  );\r\n});\r\n\r\nTransactionAndOrderProdItem.defaultProps = {\r\n  orderId: '',\r\n};\r\n\r\nTransactionAndOrderProdItem.propTypes = {\r\n  data: PropTypes.shape({\r\n    _id: PropTypes.string.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    price: PropTypes.number.isRequired,\r\n    quantity: PropTypes.number.isRequired,\r\n    photo: PropTypes.bool.isRequired,\r\n  }).isRequired,\r\n  orderId: PropTypes.string,\r\n};\r\n\r\nexport default TransactionAndOrderProdItem;\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMinus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 10h24v4H0z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinus);\nexport default __webpack_public_path__ + \"static/media/minus.320e05e9.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport NumberInput from '../NumberInput/NumberInput';\r\nimport MyIcon from '../MyIcon';\r\nimport { ReactComponent as MinusIcon } from '../../../images/icons/minus.svg';\r\nimport { ReactComponent as PlusIcon } from '../../../images/icons/plus.svg';\r\nimport themeStyles from '../../../styled/theme';\r\n\r\nconst SC = {};\r\nSC.Wrapper = styled.div`\r\n  align-items: stretch;\r\n  display: flex;\r\n\r\n  & .button {\r\n    background-color: transparent;\r\n    border: 1px solid ${({ theme }) => theme.colors.light4};\r\n    border-radius: 1px;\r\n    cursor: pointer;\r\n    outline: none;\r\n    padding: 0 ${({ theme }) => theme.spacings.level2};\r\n\r\n    &[disabled] {\r\n      cursor: default;\r\n    }\r\n\r\n    &.minus {\r\n      border-right: 0;\r\n    }\r\n\r\n    &.plus {\r\n      border-left: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function ChooseQuantity(props) {\r\n  const { name, value, maxQuantity, incremented, decremented, changed, blured, focused } = props;\r\n\r\n  return (\r\n    <SC.Wrapper>\r\n      <button\r\n        type=\"button\"\r\n        className=\"button minus\"\r\n        disabled={value <= 1}\r\n        onClick={decremented}\r\n        data-testid=\"ChooseQuantity-minus-btn\"\r\n        aria-label=\"Decrease product quantity\"\r\n      >\r\n        <MyIcon\r\n          size=\"small\"\r\n          color={value <= 1 ? themeStyles.colors.light2 : ''}\r\n          data-testid=\"ChooseQuantity-minus-icon\"\r\n        >\r\n          <MinusIcon />\r\n        </MyIcon>\r\n      </button>\r\n      <NumberInput\r\n        name={name}\r\n        size=\"small\"\r\n        value={value}\r\n        changed={changed}\r\n        blured={blured}\r\n        focused={focused}\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        className=\"button plus\"\r\n        disabled={value >= maxQuantity}\r\n        onClick={incremented}\r\n        data-testid=\"ChooseQuantity-plus-btn\"\r\n        aria-label=\"Increase product quantity\"\r\n      >\r\n        <MyIcon\r\n          size=\"small\"\r\n          color={value >= maxQuantity ? themeStyles.colors.light2 : ''}\r\n          data-testid=\"ChooseQuantity-plus-icon\"\r\n        >\r\n          <PlusIcon />\r\n        </MyIcon>\r\n      </button>\r\n    </SC.Wrapper>\r\n  );\r\n}\r\n\r\nChooseQuantity.defaultProps = {\r\n  focused: () => {},\r\n};\r\n\r\nChooseQuantity.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\r\n  maxQuantity: PropTypes.number.isRequired,\r\n  incremented: PropTypes.func.isRequired,\r\n  decremented: PropTypes.func.isRequired,\r\n  changed: PropTypes.func.isRequired,\r\n  blured: PropTypes.func.isRequired,\r\n  focused: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FlexWrapper from '../FlexWrapper';\r\nimport PlainText from '../PlainText';\r\nimport * as propTypes from '../../../shared/propTypes';\r\n\r\nexport default function DeliveryAddress({ data }) {\r\n  const { firstName, lastName, street, zipCode, city, country, phone } = data;\r\n\r\n  const rowValues = [`${firstName} ${lastName}`, street, `${zipCode} ${city}`, country, phone];\r\n\r\n  return (\r\n    <FlexWrapper direction=\"column\" spacing=\"1\">\r\n      {rowValues.map((value, idx) => (\r\n        <PlainText key={idx} size=\"3\" wordBreak=\"break-all\">\r\n          {value}\r\n        </PlainText>\r\n      ))}\r\n    </FlexWrapper>\r\n  );\r\n}\r\n\r\nDeliveryAddress.propTypes = {\r\n  data: PropTypes.shape(propTypes.deliveryAddressStrings).isRequired,\r\n};\r\n","import React, { useRef, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport PlainPanel from './PlainPanel';\r\n\r\nconst SC = {};\r\nSC.Wrapper = styled.section`\r\n  position: sticky;\r\n  top: calc(6.4rem + ${({ theme }) => theme.spacings.level3});\r\n  width: 100%;\r\n\r\n  & > *:first-child {\r\n    transition: padding ${({ theme }) => theme.durations.level2}s;\r\n  }\r\n\r\n  &.is-sticky {\r\n    border-top: 1px solid ${({ theme }) => theme.colors.light3};\r\n  }\r\n\r\n  @media only screen and (max-width: 75em) {\r\n    bottom: -1px;\r\n    padding-bottom: 1px;\r\n\r\n    & > *:first-child {\r\n      padding: ${({ theme }) => theme.spacings.level2};\r\n      transition: width ${({ theme }) => theme.durations.level2}s;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function StickyPanel({ children }) {\r\n  const wrapperRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (wrapperRef.current) {\r\n      const observer = new IntersectionObserver(\r\n        ([e]) => e.target.classList.toggle('is-sticky', e.intersectionRatio < 1),\r\n        { threshold: [1] },\r\n      );\r\n      observer.observe(wrapperRef.current);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <SC.Wrapper ref={wrapperRef}>\r\n      <PlainPanel>{children}</PlainPanel>\r\n    </SC.Wrapper>\r\n  );\r\n}\r\n\r\nStickyPanel.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FlexWrapper from '../FlexWrapper';\r\nimport PlainText from '../PlainText';\r\nimport { formatPrice } from '../../../shared/utility/utility';\r\n\r\nexport default function ToPayInfo({ value }) {\r\n  return (\r\n    <FlexWrapper align=\"center\" justify=\"center\" wrap=\"wrap\" spacing=\"1\" data-testid=\"ToPayInfo\">\r\n      <PlainText size=\"4\">To pay</PlainText>\r\n      <PlainText size=\"6\" spacing=\"1px\">\r\n        {formatPrice(value)}\r\n      </PlainText>\r\n    </FlexWrapper>\r\n  );\r\n}\r\n\r\nToPayInfo.propTypes = {\r\n  value: PropTypes.number.isRequired,\r\n};\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTrash(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrash);\nexport default __webpack_public_path__ + \"static/media/trash.9dc57184.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const Wrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  padding: calc(1.5 * ${({ theme }) => theme.spacings.level2}) 0;\r\n\r\n  &:not(:last-child) {\r\n    border-bottom: 1px solid ${({ theme }) => theme.colors.light2};\r\n  }\r\n\r\n  &:last-child {\r\n    padding-bottom: 0;\r\n  }\r\n\r\n  & .photo-and-name {\r\n    align-items: center;\r\n    display: flex;\r\n  }\r\n\r\n  & .name {\r\n    font-size: ${({ theme }) => theme.fontSizes.level3};\r\n    margin-left: ${({ theme }) => theme.spacings.level3};\r\n    width: 31rem;\r\n\r\n    & > a {\r\n      transition: color ${({ theme }) => theme.durations.level1}s;\r\n\r\n      &:hover {\r\n        color: ${({ theme }) => theme.colors.green};\r\n      }\r\n    }\r\n  }\r\n\r\n  & .mobile-lower-row {\r\n    align-items: center;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex: 1;\r\n  }\r\n\r\n  & .choose-quantity-box {\r\n    align-items: center;\r\n    display: flex;\r\n  }\r\n\r\n  & .price-box {\r\n    align-items: flex-end;\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: ${({ theme }) => theme.spacings.level4};\r\n    justify-content: center;\r\n  }\r\n\r\n  & .remove-icon {\r\n    cursor: pointer;\r\n    justify-self: right;\r\n    margin-left: ${({ theme }) => theme.spacings.level2};\r\n    padding: calc(0.5 * ${({ theme }) => theme.spacings.level1});\r\n  }\r\n\r\n  @media only screen and (max-width: 56.25em) {\r\n    & .mobile-lower-row {\r\n      margin-top: ${({ theme }) => theme.spacings.level2};\r\n      min-width: 100%;\r\n      order: 1;\r\n    }\r\n\r\n    & .name {\r\n      width: auto;\r\n    }\r\n\r\n    & .remove-icon {\r\n      margin-left: auto;\r\n      padding-left: calc(\r\n        0.5 * ${({ theme }) => theme.spacings.level1} + ${({ theme }) => theme.spacings.level1}\r\n      );\r\n    }\r\n  }\r\n\r\n  @media only screen and (max-width: 37.5em) {\r\n    & .name {\r\n      margin-left: ${({ theme }) => theme.spacings.level2};\r\n    }\r\n  }\r\n`;\r\n","import React, { useState, useCallback, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport * as actions from '../../../store/actions/indexActions';\r\nimport * as SC from './CartItem.sc';\r\nimport ChooseQuantity from '../../UI/ChooseQuantity/ChooseQuantity';\r\nimport { updateCartActions } from '../../../shared/constants';\r\nimport { formatPrice } from '../../../shared/utility/utility';\r\nimport MyIcon from '../../UI/MyIcon';\r\nimport PlainText from '../../UI/PlainText';\r\nimport { ReactComponent as TrashIcon } from '../../../images/icons/trash.svg';\r\nimport theme from '../../../styled/theme';\r\nimport ProductThumbnail from '../../UI/ProductThumbnail/ProductThumbnail';\r\nimport * as propTypes from '../../../shared/propTypes';\r\n\r\nexport default function CartItem({ data, isCartLoading }) {\r\n  const {\r\n    _id: itemId,\r\n    quantity,\r\n    product: { _id: productId, name, price, photo, quantity: productQuantity },\r\n  } = data;\r\n\r\n  const [inputValue, setInputValue] = useState(quantity);\r\n  const [isInputFocused, setIsInputFocused] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const onUpdateCartItem = useCallback(\r\n    (cartItemId, action, itemQuantity) =>\r\n      dispatch(actions.updateCartItem(cartItemId, action, itemQuantity)),\r\n    [dispatch],\r\n  );\r\n  const onRemoveCartItem = useCallback(\r\n    (cartItemId) => dispatch(actions.removeCartItem(cartItemId)),\r\n    [dispatch],\r\n  );\r\n\r\n  useEffect(() => {\r\n    setInputValue((prevState) => {\r\n      if (prevState !== quantity && !isCartLoading && !isInputFocused) return quantity;\r\n      return prevState;\r\n    });\r\n  }, [quantity, inputValue, setInputValue, isInputFocused, isCartLoading]);\r\n\r\n  const inputChangeHandle = (e) => {\r\n    const value = +e.target.value || '';\r\n    if (!value) {\r\n      setInputValue(value);\r\n    }\r\n    if (value < 1 || value > productQuantity) return;\r\n    setInputValue(value);\r\n  };\r\n\r\n  const inputBlurHandle = (e) => {\r\n    const value = +e.target.value;\r\n    if (!value || value < 1) {\r\n      setInputValue(1);\r\n      onUpdateCartItem(itemId, updateCartActions.NUMBER, 1);\r\n    } else if (value > productQuantity) {\r\n      setInputValue(productQuantity);\r\n      onUpdateCartItem(itemId, updateCartActions.NUMBER, productQuantity);\r\n    } else if (value !== quantity) {\r\n      onUpdateCartItem(itemId, updateCartActions.NUMBER, value);\r\n    }\r\n    setIsInputFocused(false);\r\n  };\r\n\r\n  const inputIncrementHandle = () => {\r\n    setInputValue((prevState) => {\r\n      if (prevState < productQuantity) return prevState + 1;\r\n      return prevState;\r\n    });\r\n    onUpdateCartItem(itemId, updateCartActions.INCREMENT);\r\n  };\r\n\r\n  const inputDecrementHandle = () => {\r\n    setInputValue((prevState) => {\r\n      if (prevState > 0) return prevState - 1;\r\n      return prevState;\r\n    });\r\n    onUpdateCartItem(itemId, updateCartActions.DECREMENT);\r\n  };\r\n\r\n  return (\r\n    <SC.Wrapper data-testid=\"CartItem\">\r\n      <div className=\"photo-and-name\">\r\n        <Link to={`/product/${productId}`} data-testid=\"CartItem-product-link-photo\">\r\n          <ProductThumbnail photo={photo} alt={name} productId={productId} width=\"7\" height=\"7\" />\r\n        </Link>\r\n        <span className=\"name\">\r\n          <Link to={`/product/${productId}`} data-testid=\"CartItem-product-link-name\">\r\n            {name}\r\n          </Link>\r\n        </span>\r\n      </div>\r\n      <div className=\"mobile-lower-row\">\r\n        <div className=\"choose-quantity-box\">\r\n          <ChooseQuantity\r\n            maxQuantity={productQuantity}\r\n            value={inputValue}\r\n            incremented={inputIncrementHandle}\r\n            decremented={inputDecrementHandle}\r\n            name=\"quantity\"\r\n            changed={inputChangeHandle}\r\n            blured={inputBlurHandle}\r\n            focused={() => setIsInputFocused(true)}\r\n          />\r\n          <PlainText size=\"2\" mgLeft=\"1\" data-testid=\"CartItem-available-quantity\">\r\n            {`of ${productQuantity}`}\r\n          </PlainText>\r\n        </div>\r\n        <div className=\"price-box\">\r\n          <PlainText size=\"5\" data-testid=\"CartItem-total-price\">\r\n            {formatPrice(price * quantity)}\r\n          </PlainText>\r\n          {quantity > 1 && (\r\n            <PlainText size=\"2\" textAlign=\"right\" data-testid=\"CartItem-price-per-piece\">\r\n              {`per piece ${formatPrice(price)}`}\r\n            </PlainText>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <MyIcon\r\n        size=\"medium\"\r\n        color={theme.colors.red}\r\n        onClick={() => onRemoveCartItem(itemId)}\r\n        className=\"remove-icon\"\r\n        data-testid=\"CartItem-trash-icon\"\r\n      >\r\n        <TrashIcon />\r\n      </MyIcon>\r\n    </SC.Wrapper>\r\n  );\r\n}\r\n\r\nCartItem.propTypes = {\r\n  data: PropTypes.shape(propTypes.cartItem).isRequired,\r\n  isCartLoading: PropTypes.bool.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport TransactionAndOrderProdItem from '../TransactionAndOrderProdItem/TransactionAndOrderProdItem';\r\nimport CartItem from './CartItem/CartItem';\r\nimport PlainText from '../UI/PlainText';\r\nimport { GreenText } from '../../styled/components';\r\nimport { itemTypes } from '../../shared/constants';\r\nimport * as propTypes from '../../shared/propTypes';\r\n\r\nexport const SC = {};\r\nSC.SingleSeller = styled.div`\r\n  padding: ${({ theme }) => theme.spacings.level3} 0;\r\n\r\n  &:not(:last-child) {\r\n    border-bottom: 1px solid ${({ theme }) => theme.colors.light3};\r\n  }\r\n\r\n  &:last-child {\r\n    padding-bottom: 0;\r\n  }\r\n`;\r\n\r\nexport default function CartAndTransactionItems({ items, type, isCartLoading }) {\r\n  const sellersObject = items.reduce((acc, item) => {\r\n    const sellerUsername =\r\n      type === itemTypes.CART ? item.product.seller.username : item.seller.username;\r\n    if (!acc[sellerUsername]) {\r\n      acc[sellerUsername] = {\r\n        items: [],\r\n        sellerUsername,\r\n      };\r\n    }\r\n    acc[sellerUsername].items.push(item);\r\n    return acc;\r\n  }, {});\r\n\r\n  const sellersArray = Object.entries(sellersObject).map(([sellerUsername, rest]) => ({\r\n    sellerUsername,\r\n    ...rest,\r\n  }));\r\n\r\n  const sellerList = sellersArray.map(({ sellerUsername, items: listItem }) => (\r\n    <SC.SingleSeller key={sellerUsername} data-testid=\"CartAndTransactionItems-item\">\r\n      <PlainText size=\"3\" display=\"block\">\r\n        <span>seller </span>\r\n        <Link\r\n          to={`/user/${sellerUsername}?p=1`}\r\n          data-testid=\"CartAndTransactionItems-item-seller-link\"\r\n        >\r\n          <GreenText>{sellerUsername}</GreenText>\r\n        </Link>\r\n      </PlainText>\r\n      {type === itemTypes.CART\r\n        ? listItem.map((item) => (\r\n            <CartItem key={item._id} data={item} isCartLoading={isCartLoading} />\r\n          ))\r\n        : listItem.map((item) => <TransactionAndOrderProdItem key={item._id} data={item} />)}\r\n    </SC.SingleSeller>\r\n  ));\r\n\r\n  return sellerList;\r\n}\r\n\r\nCartAndTransactionItems.defaultProps = {\r\n  isCartLoading: undefined,\r\n};\r\n\r\nCartAndTransactionItems.propTypes = {\r\n  items: PropTypes.oneOfType([\r\n    PropTypes.arrayOf(PropTypes.shape(propTypes.cartItem).isRequired),\r\n    PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        _id: PropTypes.string.isRequired,\r\n        name: PropTypes.string.isRequired,\r\n        price: PropTypes.number.isRequired,\r\n        quantity: PropTypes.number.isRequired,\r\n        photo: PropTypes.bool.isRequired,\r\n        seller: PropTypes.shape({\r\n          username: PropTypes.string.isRequired,\r\n        }).isRequired,\r\n      }),\r\n    ),\r\n  ]),\r\n  type: PropTypes.oneOf([itemTypes.TRANSACTION, itemTypes.CART]).isRequired,\r\n  isCartLoading: PropTypes.bool,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector } from 'react-redux';\r\nimport { modalTypes } from '../../../shared/constants';\r\nimport PlainPanel from '../../../components/UI/Panels/PlainPanel';\r\nimport Heading from '../../../components/UI/Heading/Heading';\r\nimport Button from '../../../components/UI/Button/Button';\r\nimport DeliveryAddress from '../../../components/UI/DeliveryAddress/DeliveryAddress';\r\nimport FlexWrapper from '../../../components/UI/FlexWrapper';\r\n\r\nexport default function DeliveryAddressSection({ onSetModal }) {\r\n  const deliveryAddress = useSelector((state) => state.auth.deliveryAddress);\r\n\r\n  return (\r\n    <PlainPanel data-testid=\"DeliveryAddressSection\">\r\n      <FlexWrapper direction=\"column\" align=\"start\" spacing=\"3\">\r\n        <Heading variant=\"h4\">Delivery address</Heading>\r\n        <DeliveryAddress data={deliveryAddress} />\r\n        <Button clicked={() => onSetModal(modalTypes.CHANGE_DELIVERY_ADDRESS)}>\r\n          Change address\r\n        </Button>\r\n      </FlexWrapper>\r\n    </PlainPanel>\r\n  );\r\n}\r\n\r\nDeliveryAddressSection.propTypes = {\r\n  onSetModal: PropTypes.func.isRequired,\r\n};\r\n","import React, { useEffect, useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport * as actions from '../../store/actions/indexActions';\r\nimport SideBySide from '../../components/UI/SideBySide';\r\nimport FlexWrapper from '../../components/UI/FlexWrapper';\r\nimport PlainPanel from '../../components/UI/Panels/PlainPanel';\r\nimport StickyPanel from '../../components/UI/Panels/StickyPanel';\r\nimport DeliveryAddressSection from './DeliveryAddressSection/DeliveryAddressSection';\r\nimport Heading from '../../components/UI/Heading/Heading';\r\nimport ToPayInfo from '../../components/UI/ToPayInfo/ToPayInfo';\r\nimport CartAndTransactionItems from '../../components/CartAndTransactionItems/CartAndTransactionItems';\r\nimport Button from '../../components/UI/Button/Button';\r\nimport { itemTypes, modalTypes } from '../../shared/constants';\r\nimport { roundOverallPrice, scrollToTop } from '../../shared/utility/utility';\r\nimport MetaDescriptor from '../../components/MetaDescriptor/MetaDescriptor';\r\n\r\nexport default function Transaction() {\r\n  const history = useHistory();\r\n\r\n  const transaction = useSelector((state) => state.auth.transaction);\r\n\r\n  const dispatch = useDispatch();\r\n  const onSetModal = useCallback(\r\n    (modalContent) => dispatch(actions.setModal(modalContent)),\r\n    [dispatch],\r\n  );\r\n  const onSetTransaction = useCallback(\r\n    (items) => dispatch(actions.setTransaction(items)),\r\n    [dispatch],\r\n  );\r\n\r\n  useEffect(() => {\r\n    scrollToTop();\r\n    if (!transaction || transaction?.length <= 0) {\r\n      history.replace('/cart');\r\n    }\r\n    const unlisten = history.listen((location) => {\r\n      if (location.pathname !== '/transaction') {\r\n        onSetTransaction(undefined);\r\n      }\r\n    });\r\n    return () => {\r\n      unlisten();\r\n    };\r\n  }, [history, transaction, onSetTransaction]);\r\n\r\n  let content = null;\r\n  if (transaction?.length > 0) {\r\n    const toPayValue = transaction.reduce((acc, { price, quantity }) => {\r\n      return acc + price * quantity;\r\n    }, 0);\r\n    const roundedToPayValue = roundOverallPrice(toPayValue);\r\n\r\n    content = (\r\n      <>\r\n        <Heading variant=\"h3\">Transaction</Heading>\r\n        <SideBySide proportion=\"3/1\" makeVerticalWhen={1200} data-testid=\"Transaction-content\">\r\n          <FlexWrapper direction=\"column\" align=\"stretch\" spacing=\"3\">\r\n            <DeliveryAddressSection onSetModal={onSetModal} />\r\n            <PlainPanel>\r\n              <Heading variant=\"h4\">Products</Heading>\r\n              <CartAndTransactionItems items={transaction} type={itemTypes.TRANSACTION} />\r\n            </PlainPanel>\r\n          </FlexWrapper>\r\n          <StickyPanel>\r\n            <FlexWrapper direction=\"column\" spacing=\"2\">\r\n              <ToPayInfo value={roundedToPayValue} />\r\n              <Button filled clicked={() => onSetModal(modalTypes.BUY_PRODUCTS)}>\r\n                I buy and pay\r\n              </Button>\r\n            </FlexWrapper>\r\n          </StickyPanel>\r\n        </SideBySide>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MetaDescriptor title=\"Transaction summary - E-Shopping\" />\r\n      {content}\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}