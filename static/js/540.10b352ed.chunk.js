"use strict";(self.webpackChunkeshopping_app_client=self.webpackChunkeshopping_app_client||[]).push([[540],{6715:(e,n,t)=>{t.d(n,{Z:()=>g});var r,a,i=t(2791),s=t(9741),l=t(168),c=t(8470);const o=c.ZP.div(r||(r=(0,l.Z)(["\n  padding-top: ",";\n"])),(e=>{let{theme:n}=e;return n.spacings.level3})),d=c.ZP.div(a||(a=(0,l.Z)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n\n  & > *:not(:last-child) {\n    margin-right: ",";\n  }\n\n  & .name {\n    flex: 2;\n    font-size: ",";\n\n    & > a {\n      transition: color ","s;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n\n  @media only screen and (max-width: 56.25em) {\n    align-items: start;\n    flex-direction: column;\n    justify-content: center;\n\n    & > *:not(:last-child) {\n      margin-right: 0;\n      margin-bottom: ",";\n    }\n\n    & .name {\n      flex: initial;\n    }\n  }\n"])),(e=>{let{theme:n}=e;return n.spacings.level1}),(e=>{let{theme:n}=e;return n.fontSizes.level3}),(e=>{let{theme:n}=e;return n.durations.level1}),(e=>{let{theme:n}=e;return n.colors.green}),(e=>{let{theme:n}=e;return n.spacings.level1}));var u=t(5914),h=t(7662),p=t(3330),m=t(478),x=t(2268),j=t(184);const v=i.memo((e=>{let{data:n,orderId:t}=e;const{_id:r,name:a,price:i,quantity:l,photo:c}=n,v=(0,m.t$)(i*l);return(0,j.jsx)(o,{"data-testid":"TransactionAndOrderProdItem",children:(0,j.jsxs)(x.Z,{$spacing:"2",children:[(0,j.jsx)(s.rU,{to:"/product/".concat(r),"data-testid":"TransactionAndOrderProdItem-product-link-photo",children:(0,j.jsx)(h.Z,{photo:c,alt:a,productId:r,width:"5",height:"5",orderId:t})}),(0,j.jsxs)(d,{children:[(0,j.jsx)("span",{className:"name",children:(0,j.jsx)(s.rU,{to:"/product/".concat(r),"data-testid":"TransactionAndOrderProdItem-product-link-name",children:a})}),(0,j.jsxs)(x.Z,{$justify:"space-between",$align:"center",$flex:"1",children:[(0,j.jsx)(p.Z,{$size:"2",$color:u.Z.colors.light4,"data-testid":"TransactionAndOrderProdItem-product-price-per-piece",children:"".concat(l," x ").concat((0,m.T4)(i))}),(0,j.jsx)(p.Z,{$size:"4","data-testid":"TransactionAndOrderProdItem-product-overall-price",children:(0,m.T4)(v)})]})]})]})})}));v.defaultProps={orderId:""};const g=v},7540:(e,n,t)=>{t.r(n),t.d(n,{default:()=>re});var r,a,i,s=t(2791),l=t(9434),c=t(9741),o=t(8515),d=t(168),u=t(8470);const h=u.ZP.div(r||(r=(0,d.Z)(["\n  & .nav {\n    background-color: ",";\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.15);\n    left: 0;\n    padding-bottom: ",";\n    position: fixed;\n    top: 6.2rem;\n    width: 100%;\n    z-index: ",";\n  }\n\n  & .nav-list {\n    display: flex;\n    justify-content: center;\n    list-style: none;\n  }\n\n  & .nav-link {\n    border-bottom: 2px solid transparent;\n    display: block;\n    font-size: ",";\n    letter-spacing: 1px;\n    padding: ",";\n    text-transform: uppercase;\n    transition: all ","s;\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  & .nav-link-active {\n    border-bottom: 2px solid ",";\n    color: ",";\n    cursor: default;\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  @media only screen and (max-width: 37.5em) {\n    & .nav {\n      top: 10.8rem;\n    }\n\n    & .nav-list {\n      justify-content: center;\n    }\n  }\n\n  @media only screen and (max-width: 24.5em) {\n    & .nav-link {\n      letter-spacing: 0;\n    }\n  }\n\n  @media only screen and (max-width: 22.5em) {\n    & .nav-link {\n      font-size: ",";\n      padding: ",";\n    }\n  }\n"])),(e=>{let{theme:n}=e;return n.colors.light1}),(e=>{let{theme:n}=e;return n.spacings.level1}),(e=>{let{theme:n}=e;return n.zIndexes.level3}),(e=>{let{theme:n}=e;return n.fontSizes.level2}),(e=>{let{theme:n}=e;return n.spacings.level2}),(e=>{let{theme:n}=e;return n.durations.level1}),(e=>{let{theme:n}=e;return n.colors.green}),(e=>{let{theme:n}=e;return n.colors.blue}),(e=>{let{theme:n}=e;return n.colors.blue}),(e=>{let{theme:n}=e;return n.colors.blue}),(e=>{let{theme:n}=e;return n.fontSizes.level1}),(e=>{let{theme:n}=e;return n.spacings.level1})),p=u.ZP.div(a||(a=(0,d.Z)(["\n  ","\n"])),(e=>{let{$extraMargin:n,theme:t}=e;return n?"\n        margin-top: ".concat(t.spacings.level5,";\n      "):""})),m=u.ZP.div(i||(i=(0,d.Z)(["\n  max-width: 100%;\n  margin: 0 auto;\n  width: 80rem;\n"])));var x,j;const v=u.ZP.div(x||(x=(0,d.Z)(["\n  display: grid;\n  grid-gap: ",";\n  grid-template-columns: repeat(3, 1fr);\n\n  & .change-passwd-btn {\n    grid-area: 3 / 2 / 3 / 3;\n  }\n\n  & .actions {\n    grid-column: 1 / -1;\n  }\n\n  @media only screen and (max-width: 37.5em) {\n    grid-template-columns: repeat(2, 1fr);\n\n    & .change-passwd-btn {\n      grid-area: 4 / 1 / 4 / 3;\n    }\n\n    & .actions > * {\n      flex: 1;\n    }\n  }\n"])),(e=>{let{theme:n}=e;return n.spacings.level3}));(0,u.ZP)(c.rU)(j||(j=(0,d.Z)(["\n  @media only screen and (max-width: 37.5em) {\n    & > * {\n      width: 100%;\n    }\n  }\n"])));var g=t(134),y=t(6054),f=t(2626),Z=t(2268),k=t(2778),$=t(132),A=t(3330),E=t(184);function O(e){let{name:n,content:t,clickHandler:r}=e,a="";a=n===y.Od.ADDRESS?(0,E.jsx)(Z.Z,{$direction:"column",$spacing:"1",children:t.map(((e,n)=>(0,E.jsx)(A.Z,{$size:"3",$wordBreak:"break-all",children:e},n)))}):n===y.Od.CONTACTS?(0,E.jsxs)(Z.Z,{$direction:"column",$spacing:"1",children:[(0,E.jsxs)(A.Z,{$size:"3",$wordBreak:"break-all",children:["Email:\xa0",t.email?"visible":"hidden"]}),(0,E.jsxs)(A.Z,{$size:"3",$wordBreak:"break-all",children:["Phone number:\xa0",t.phone?"visible":"hidden"]})]}):(0,E.jsx)(A.Z,{$size:"3",$wordBreak:"break-all",children:t});let i=null;return r&&(i=(0,E.jsx)($.Z,{clicked:r,"data-testid":"SingleInfo-".concat(n,"-btn"),children:"Change"})),(0,E.jsxs)(Z.Z,{$direction:"column",$spacing:"2",$align:"start","data-testid":"SingleInfo-".concat(n),children:[(0,E.jsx)(k.Z,{$variant:"h4",children:n}),a,i]})}O.defaultProps={clickHandler:void 0};var b=t(478),N=t(3397);function C(e){let{history:n}=e;const t=(0,l.v9)((e=>e.auth.profile)),r=(0,l.I0)(),a=(0,s.useCallback)((e=>r(g.cf(e))),[r]);(0,s.useEffect)((()=>{(0,b.k3)()}),[]);let i=null,c=null;if(t){const{firstName:e,lastName:r,username:s,email:l,street:o,zipCode:d,city:u,country:h,phone:p,contacts:m,status:x,isAdmin:j}=t,v=x===y.Nj.ACTIVE;let g=null;j&&(g=(0,E.jsxs)(Z.Z,{$spacing:"3",className:"actions",$justify:"center","data-testid":"MyData-admin-content",children:[(0,E.jsx)($.Z,{clicked:()=>a(y.KW.ADD_ADMIN),children:"Add admin"}),(0,E.jsx)($.Z,{$color:"red",clicked:()=>a(y.KW.REMOVE_ADMIN),children:"Remove admin"})]}));let k=null;v||(k=(0,E.jsxs)(Z.Z,{$spacing:"3",$justify:"center",className:"actions","data-testid":"MyData-pending-user-actions",children:[(0,E.jsx)($.Z,{clicked:()=>a(y.KW.SEND_VERIFICATION_LINK),children:"Send verification link"}),(0,E.jsx)($.Z,{clicked:()=>n.push("/logout"),children:"Logout"})]})),i=(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(O,{name:y.Od.USERNAME,content:s}),(0,E.jsx)(O,{name:y.Od.NAME,content:"".concat(e," ").concat(r),clickHandler:v?()=>a(y.KW.CHANGE_NAME):null}),(0,E.jsx)(O,{name:y.Od.EMAIL,content:l,clickHandler:v?()=>a(y.KW.CHANGE_EMAIL):null}),(0,E.jsx)(O,{name:y.Od.ADDRESS,content:[o,"".concat(d," ").concat(u),h],clickHandler:v?()=>a(y.KW.CHANGE_ADDRESS):null}),(0,E.jsx)(O,{name:y.Od.CONTACTS,content:m,clickHandler:v?()=>a(y.KW.CHANGE_CONTACTS):null}),(0,E.jsx)(O,{name:y.Od.PHONE_NUMBER,content:p,clickHandler:v?()=>a(y.KW.CHANGE_PHONE_NUMBER):null}),k,(0,E.jsxs)(Z.Z,{$spacing:"3",className:"actions",$justify:"center",children:[v&&(0,E.jsx)($.Z,{clicked:()=>a(y.KW.CHANGE_PASSWORD),children:"Change password"}),(0,E.jsx)($.Z,{$color:"red",clicked:()=>a(y.KW.DELETE_ACCOUNT),children:"Delete account"})]}),g]}),v||(c=(0,E.jsx)(f.Z,{"data-testid":"MyData-pending-user-content",children:(0,E.jsx)(A.Z,{$size:"3",$lineHeight:"5",children:"You need to activate your account to unlock all app functionalities. Verification link is active for 10 minutes. You can resend it below. If you do not activate your account within 1 hour, account will be deleted permanently."})}))}return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(N.Z,{title:"Your account data - E-Shopping",description:"Check out your account informations"}),(0,E.jsx)(k.Z,{$variant:"h3",children:"My data"}),(0,E.jsxs)(Z.Z,{$direction:"column",$spacing:"3",children:[c,(0,E.jsx)(f.Z,{children:(0,E.jsx)(v,{children:i})})]})]})}var P=t(4278),S=t(8828);function T(e){let{userProfile:n,location:t}=e;const{search:r}=t,a=(0,S.Z)(),i=(0,l.v9)((e=>e.ui.productsPerPage)),c=(0,l.I0)(),o=(0,s.useCallback)(((e,n)=>c(g.t2(e,n))),[c]);return(0,s.useEffect)((()=>{o(r,y.Gx.MY_PRODUCTS),null!==a&&void 0!==a&&a.pathname.startsWith("/product/")||(0,b.k3)()}),[r,o,i,n,a]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(N.Z,{title:"Your offers - E-Shopping",description:"Check out your offers"}),(0,E.jsx)(k.Z,{$variant:"h3",children:"My products"}),(0,E.jsx)(P.Z,{page:y.Gx.MY_PRODUCTS})]})}var _,D,I=t(2007),w=t.n(I),M=t(5328),R=t(4666);const z=u.ZP.div(_||(_=(0,d.Z)(["\n  position: relative;\n"]))),L=u.ZP.div(D||(D=(0,d.Z)(["\n  padding: "," 0;\n  border-bottom: 1px solid ",";\n\n  &:first-child {\n    padding-top: 0;\n  }\n"])),(e=>{let{theme:n}=e;return n.spacings.level3}),(e=>{let{theme:n}=e;return n.colors.light3}));var W=t(5914),H=t(593),U=t(6715),K=t(3818),Y=t(9776);function B(e){let{orders:n,orderType:t}=e;const r=(0,l.v9)((e=>e.ui.isDataLoading)),a=n.map((e=>{var n,r;const a=t===y.c7.PLACED_ORDERS?null===(n=e.seller)||void 0===n?void 0:n.username:null===(r=e.buyer)||void 0===r?void 0:r.username,i=t===y.c7.PLACED_ORDERS?"seller ":"buyer ";return(0,E.jsxs)(L,{"data-testid":"OrderList-single-order",children:[(0,E.jsxs)(Z.Z,{$justify:"space-between",$align:"flex-end",$spacing:"3",children:[(0,E.jsxs)(A.Z,{$size:"3",children:[(0,E.jsx)("span",{"data-testid":"OrderList-user-type",children:i}),a?(0,E.jsx)(c.rU,{to:"/user/".concat(a,"?p=1"),"data-testid":"OrderList-user-link",children:(0,E.jsx)(H._,{children:a})}):(0,E.jsx)(A.Z,{$fStyle:"italic","data-testid":"OrderList-account-deleted",children:"(account has been deleted)"})]}),(0,E.jsx)(A.Z,{$size:"2","data-testid":"OrderList-created-at-date",children:(0,b.mN)(e.createdAt)})]}),e.products.map((n=>(0,E.jsx)(U.Z,{data:n,orderId:e._id},n._id))),(0,E.jsxs)(Z.Z,{$mgTop:"3",$justify:"space-between",$align:"center",$spacing:"3",children:[(0,E.jsx)(c.rU,{to:"/order/".concat(e._id),"data-testid":"OrderList-order-details-link",children:(0,E.jsx)($.Z,{children:"details"})}),(0,E.jsxs)("div",{children:[(0,E.jsx)(A.Z,{$size:"3",$mgRight:"1",$spacing:"1px",$color:W.Z.colors.light4,children:"TOTAL"}),(0,E.jsx)(A.Z,{$size:"5","data-testid":"OrderList-overall-price",children:(0,b.T4)(e.overallPrice)})]})]})]},e._id)})),i=r?(0,E.jsx)(K.Z,{}):null;return(0,E.jsxs)(z,{children:[a,i]})}var G,V=t(4533),q=t(4245);const F={};F.Wrapper=u.ZP.div(G||(G=(0,d.Z)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  margin-right: ",";\n\n  & .label {\n    font-size: ",";\n    margin-right: ",";\n  }\n\n  & .select {\n    font-size: ",";\n    flex: 1;\n    max-width: 22rem;\n    z-index: ",";\n  }\n"])),(e=>{let{theme:n}=e;return n.spacings.level2}),(e=>{let{theme:n}=e;return n.fontSizes.level3}),(e=>{let{theme:n}=e;return n.spacings.level2}),(e=>{let{theme:n}=e;return n.fontSizes.level2}),(e=>{let{theme:n}=e;return n.zIndexes.level2}));const Q={control:e=>({...e,minHeight:"25px"}),dropdownIndicator:e=>({...e,padding:"0.6rem"})};function J(){const[e,n]=(0,s.useState)(y.oW[0]),t=(0,o.k6)(),{search:r,pathname:a}=t.location;return(0,E.jsxs)(F.Wrapper,{children:[(0,E.jsx)("label",{htmlFor:"sortOption",className:"label",children:"Sort"}),(0,E.jsx)(V.ZP,{options:y.oW,value:e,onChange:i=>{if(i.value===e.value)return;n(i);const s=(0,b.dy)(r);s.sortBy=i.value;const l=q.stringify(s);t.replace("".concat(a,"?").concat(l))},isSearchable:!1,styles:Q,id:"sortOption",className:"select"})]})}var X=t(3288);function ee(e){let{orders:n,type:t}=e;const{search:r}=(0,o.TH)(),a=(0,l.v9)((e=>e.auth.orderCount)),i=(0,l.I0)(),c=(0,s.useCallback)(((e,n)=>i(g.AU(e,n))),[i]);(0,s.useEffect)((()=>{c(r,t)}),[c,t,r]);let d=(0,E.jsx)(X.Z,{align:"center"});return null===n?d=(0,E.jsx)(k.Z,{$variant:"h4",$align:"center","data-testid":"Orders-error",children:t===y.c7.PLACED_ORDERS?"There is a problem to fetch your placed orders":"There is a problem to fetch your sell history"}):n&&(n.length<=0?d=(0,E.jsx)(k.Z,{$variant:"h4",$align:"center","data-testid":"Orders-no-orders-info",children:t===y.c7.PLACED_ORDERS?"You don't have any placed orders yet":"Your sell history is empty"}):a>0&&(d=(0,E.jsxs)(f.Z,{children:[(0,E.jsxs)(H.k,{children:[(0,E.jsx)(J,{}),(0,E.jsx)(M.Z,{itemQuantity:a,quantityPerPage:y.Aq})]}),(0,E.jsx)(B,{orders:n,orderType:t}),(0,E.jsx)(R.Z,{itemQuantity:a,itemsType:y.Vd.ORDER,quantityPerPage:y.Aq})]}))),d}function ne(){const e=(0,S.Z)(),n=(0,l.v9)((e=>e.auth.sellHistory));return(0,s.useEffect)((()=>{null!==e&&void 0!==e&&e.pathname.startsWith("/order/")||(0,b.k3)()}),[e]),(0,E.jsxs)(m,{children:[(0,E.jsx)(N.Z,{title:"Your sell history - E-Shopping",description:"Check out your sell history"}),(0,E.jsx)(k.Z,{$variant:"h3",children:"My sell history"}),(0,E.jsx)(ee,{orders:n,type:y.c7.SELL_HISTORY})]})}function te(){const e=(0,S.Z)(),n=(0,l.v9)((e=>e.auth.placedOrders));return(0,s.useEffect)((()=>{null!==e&&void 0!==e&&e.pathname.startsWith("/order/")||(0,b.k3)()}),[e]),(0,E.jsxs)(m,{children:[(0,E.jsx)(N.Z,{title:"Your placed orders - E-Shopping",description:"Check out orders that you placed"}),(0,E.jsx)(k.Z,{$variant:"h3",children:"My placed orders"}),(0,E.jsx)(ee,{orders:n,type:y.c7.PLACED_ORDERS})]})}function re(){const e=(0,l.v9)((e=>e.auth.profile));let n=null;e.status===y.Nj.ACTIVE&&(n=(0,E.jsx)("nav",{className:"nav","data-testid":"MyAccount-navigation",children:(0,E.jsxs)("ul",{className:"nav-list",children:[(0,E.jsx)("li",{children:(0,E.jsx)(c.OL,{to:"/my-account/data",className:"nav-link",activeClassName:"nav-link-active","data-testid":"MyAccount-data-link",children:"Data"})}),(0,E.jsx)("li",{children:(0,E.jsx)(c.OL,{to:"/my-account".concat(y.Bh),className:"nav-link",activeClassName:"nav-link-active","data-testid":"MyAccount-products-link",children:"Products"})}),(0,E.jsx)("li",{children:(0,E.jsx)(c.OL,{to:"/my-account/sell-history?p=1",className:"nav-link",activeClassName:"nav-link-active","data-testid":"MyAccount-sell-history-link",children:"Sell history"})}),(0,E.jsx)("li",{children:(0,E.jsx)(c.OL,{to:"/my-account/placed-orders?p=1",className:"nav-link",activeClassName:"nav-link-active","data-testid":"MyAccount-placed-orders-link",children:"Placed orders"})})]})}));let t=(0,E.jsx)(p,{$extraMargin:!1,"data-testid":"MyAccount-pending-user-routes",children:(0,E.jsxs)(o.rs,{children:[(0,E.jsx)(o.AW,{path:"/my-account/data",exact:!0,component:C}),(0,E.jsx)(o.l_,{to:"/my-account/data"})]})});return e.status===y.Nj.ACTIVE&&(t=(0,E.jsx)(p,{$extraMargin:!0,"data-testid":"MyAccount-active-user-routes",children:(0,E.jsxs)(o.rs,{children:[(0,E.jsx)(o.AW,{path:"/my-account/data",exact:!0,component:C}),(0,E.jsx)(o.AW,{path:"/my-account/products",exact:!0,render:n=>(0,E.jsx)(T,{userProfile:e,...n})}),(0,E.jsx)(o.AW,{path:"/my-account/sell-history",exact:!0,component:ne}),(0,E.jsx)(o.AW,{path:"/my-account/placed-orders",exact:!0,component:te}),(0,E.jsx)(o.l_,{to:"/my-account/data"})]})})),(0,E.jsxs)(h,{children:[n,t]})}ee.defaultProps={orders:void 0},ee.propTypes={orders:w().arrayOf(w().shape(Y.Hh)),type:w().string.isRequired}}}]);
//# sourceMappingURL=540.10b352ed.chunk.js.map