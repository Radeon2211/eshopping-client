(this["webpackJsonpeshopping-app-client"]=this["webpackJsonpeshopping-app-client"]||[]).push([[6],{359:function(e,n,t){"use strict";t(0);var c,a,r,i=t(16),s=t(9),o=t(8),l=t(21),d=Object(o.c)(l.a)(c||(c=Object(s.a)(["\n  padding-top: ",";\n\n  &:last-child {\n    padding-bottom: 0;\n  }\n"])),(function(e){return e.theme.spacings.level3})),u=o.c.div(a||(a=Object(s.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n\n  & > *:not(:last-child) {\n    margin-right: ",";\n  }\n\n  & .name {\n    flex: 2;\n    font-size: ",";\n\n    & > a {\n      transition: color ","s;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n\n  @media only screen and (max-width: 56.25em) {\n    align-items: start;\n    flex-direction: column;\n    justify-content: center;\n\n    & > *:not(:last-child) {\n      margin-right: 0;\n      margin-bottom: ",";\n    }\n\n    & .name {\n      flex: initial;\n    }\n  }\n"])),(function(e){return e.theme.spacings.level1}),(function(e){return e.theme.fontSizes.level3}),(function(e){return e.theme.durations.level1}),(function(e){return e.theme.colors.green}),(function(e){return e.theme.spacings.level1})),j=Object(o.c)(l.a)(r||(r=Object(s.a)(["\n  @media only screen and (max-width: 56.25em) {\n    flex: initial;\n  }\n"]))),h=t(22),b=t(69),O=t(12),m=t(4),p=t(1),x=function(e){var n=e.data,t=e.orderId,c=n._id,a=n.name,r=n.price,s=n.quantity,o=n.photo,l=Object(m.j)(r*s);return Object(p.jsxs)(d,{spacing:"2","data-testid":"TransactionAndOrderProdItem",children:[Object(p.jsx)(i.Link,{to:"/product/".concat(c),"data-testid":"TransactionAndOrderProdItem-product-link-photo",children:Object(p.jsx)(b.a,{photo:o,alt:a,productId:c,width:"5",height:"5",orderId:t})}),Object(p.jsxs)(u,{children:[Object(p.jsx)("span",{className:"name",children:Object(p.jsx)(i.Link,{to:"/product/".concat(c),"data-testid":"TransactionAndOrderProdItem-product-link-name",children:a})}),Object(p.jsxs)(j,{justify:"space-between",align:"center",flex:"1",children:[Object(p.jsx)(O.a,{size:"2",color:h.a.colors.light4,"data-testid":"TransactionAndOrderProdItem-product-price-per-piece",children:"".concat(s," x ").concat(Object(m.d)(r))}),Object(p.jsx)(O.a,{size:"4",children:Object(m.d)(l)})]})]})]})};x.defaultProps={orderId:""};n.a=x},367:function(e,n,t){"use strict";t.r(n);var c,a,r,i,s,o=t(7),l=t(0),d=t(6),u=t(16),j=t(26),h=t(9),b=t(8),O=b.c.div(c||(c=Object(h.a)(["\n  & .nav {\n    background-color: ",";\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.15);\n    left: 0;\n    padding-bottom: ",";\n    position: fixed;\n    top: 6.2rem;\n    width: 100%;\n    z-index: ",";\n  }\n\n  & .nav-list {\n    display: flex;\n    justify-content: center;\n    list-style: none;\n  }\n\n  & .nav-link {\n    border-bottom: 2px solid transparent;\n    display: block;\n    font-size: ",";\n    letter-spacing: 1px;\n    padding: ",";\n    text-transform: uppercase;\n    transition: all ","s;\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  & .nav-link-active {\n    border-bottom: 2px solid ",";\n    color: ",";\n    cursor: default;\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  @media only screen and (max-width: 37.5em) {\n    & .nav {\n      top: 10.8rem;\n    }\n\n    & .nav-list {\n      justify-content: center;\n    }\n  }\n\n  @media only screen and (max-width: 24.5em) {\n    & .nav-link {\n      letter-spacing: 0;\n    }\n  }\n\n  @media only screen and (max-width: 22.5em) {\n    & .nav-link {\n      font-size: ",";\n      padding: ",";\n    }\n  }\n"])),(function(e){return e.theme.colors.light1}),(function(e){return e.theme.spacings.level1}),(function(e){return e.theme.zIndexes.level3}),(function(e){return e.theme.fontSizes.level2}),(function(e){return e.theme.spacings.level2}),(function(e){return e.theme.durations.level1}),(function(e){return e.theme.colors.green}),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.fontSizes.level1}),(function(e){return e.theme.spacings.level1})),m=b.c.div(a||(a=Object(h.a)(["\n  ","\n"])),(function(e){var n=e.extraMargin,t=e.theme;return n?"\n        margin-top: ".concat(t.spacings.level5,";\n      "):""})),p=b.c.div(r||(r=Object(h.a)(["\n  max-width: 100%;\n  margin: 0 auto;\n  width: 80rem;\n"]))),x=b.c.div(i||(i=Object(h.a)(["\n  display: grid;\n  grid-gap: ",";\n  grid-template-columns: repeat(3, 1fr);\n\n  & .change-passwd-btn {\n    grid-area: 3 / 2 / 3 / 3;\n  }\n\n  & .actions {\n    grid-column: 1 / -1;\n  }\n\n  @media only screen and (max-width: 37.5em) {\n    grid-template-columns: repeat(2, 1fr);\n\n    & .change-passwd-btn {\n      grid-area: 4 / 1 / 4 / 3;\n    }\n\n    & .actions > * {\n      flex: 1;\n    }\n  }\n"])),(function(e){return e.theme.spacings.level3})),f=(Object(b.c)(u.Link)(s||(s=Object(h.a)(["\n  @media only screen and (max-width: 37.5em) {\n    & > * {\n      width: 100%;\n    }\n  }\n"]))),t(10)),v=t(2),g=t(68),y=t(21),k=t(25),E=t(17),N=t(12),A=t(1),C=function(e){var n=e.name,t=e.content,c=e.clickHandler,a="";a=n===v.s.ADDRESS?Object(A.jsx)(y.a,{direction:"column",spacing:"1",children:t.map((function(e,n){return Object(A.jsx)(N.a,{size:"3",wordBreak:"break-all",children:e},n)}))}):n===v.s.CONTACTS?Object(A.jsxs)(y.a,{direction:"column",spacing:"1",children:[Object(A.jsxs)(N.a,{size:"3",wordBreak:"break-all",children:["Email:\xa0",t.email?"visible":"hidden"]}),Object(A.jsxs)(N.a,{size:"3",wordBreak:"break-all",children:["Phone number:\xa0",t.phone?"visible":"hidden"]})]}):Object(A.jsx)(N.a,{size:"3",wordBreak:"break-all",children:t});var r=null;return c&&(r=Object(A.jsx)(E.a,{clicked:c,"data-testid":"SingleInfo-".concat(n,"-btn"),children:"Change"})),Object(A.jsxs)(y.a,{direction:"column",spacing:"2",align:"start","data-testid":"SingleInfo-".concat(n),children:[Object(A.jsx)(k.a,{variant:"h4",children:n}),a,r]})};C.defaultProps={clickHandler:void 0};var S,D,L,w=C,P=t(4),I=t(109),T=function(e){var n=e.history,t=Object(d.c)((function(e){return e.auth.profile})),c=Object(d.b)(),a=Object(l.useCallback)((function(e){return c(f.B(e))}),[c]);Object(l.useEffect)((function(){Object(P.k)()}),[]);var r=null,i=null;if(t){var s=t.firstName,o=t.lastName,u=t.username,j=t.email,h=t.street,b=t.zipCode,O=t.city,m=t.country,p=t.phone,C=t.contacts,S=t.status,D=t.isAdmin,L=S===v.y.ACTIVE,T=null;D&&(T=Object(A.jsxs)(y.a,{spacing:"3",className:"actions",justify:"center","data-testid":"MyData-admin-content",children:[Object(A.jsx)(E.a,{clicked:function(){return a(v.m.ADD_ADMIN)},children:"Add admin"}),Object(A.jsx)(E.a,{color:"red",clicked:function(){return a(v.m.REMOVE_ADMIN)},children:"Remove admin"})]}));var z=null;L||(z=Object(A.jsxs)(y.a,{spacing:"3",justify:"center",className:"actions","data-testid":"MyData-pending-user-actions",children:[Object(A.jsx)(E.a,{clicked:function(){return a(v.m.SEND_VERIFICATION_LINK)},children:"Send verification link"}),Object(A.jsx)(E.a,{clicked:function(){return n.push("/logout")},children:"Logout"})]})),r=Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(w,{name:v.s.USERNAME,content:u}),Object(A.jsx)(w,{name:v.s.NAME,content:"".concat(s," ").concat(o),clickHandler:L?function(){return a(v.m.CHANGE_NAME)}:null}),Object(A.jsx)(w,{name:v.s.EMAIL,content:j,clickHandler:L?function(){return a(v.m.CHANGE_EMAIL)}:null}),Object(A.jsx)(w,{name:v.s.ADDRESS,content:[h,"".concat(b," ").concat(O),m],clickHandler:L?function(){return a(v.m.CHANGE_ADDRESS)}:null}),Object(A.jsx)(w,{name:v.s.CONTACTS,content:C,clickHandler:L?function(){return a(v.m.CHANGE_CONTACTS)}:null}),Object(A.jsx)(w,{name:v.s.PHONE_NUMBER,content:p,clickHandler:L?function(){return a(v.m.CHANGE_PHONE_NUMBER)}:null}),z,Object(A.jsxs)(y.a,{spacing:"3",className:"actions",justify:"center",children:[L&&Object(A.jsx)(E.a,{clicked:function(){return a(v.m.CHANGE_PASSWORD)},children:"Change password"}),Object(A.jsx)(E.a,{color:"red",clicked:function(){return a(v.m.DELETE_ACCOUNT)},children:"Delete account"})]}),T]}),L||(i=Object(A.jsx)(g.a,{"data-testid":"MyData-pending-user-content",children:Object(A.jsx)(N.a,{size:"3",lineHeight:"5",children:"You need to activate your account to unlock all app functionalities. Verification link is active for 10 minutes. You can resend it below. If you do not activate your account within 1 hour, account will be deleted permanently."})}))}return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(I.a,{title:"Your account data - E-Shopping",description:"Check out your account informations"}),Object(A.jsx)(k.a,{variant:"h3",children:"My data"}),Object(A.jsxs)(y.a,{direction:"column",spacing:"3",children:[i,Object(A.jsx)(g.a,{children:Object(A.jsx)(x,{children:r})})]})]})},z=t(48),R=t(110),_=function(e){var n=e.userProfile,t=e.location.search,c=Object(z.useLastLocation)(),a=Object(d.c)((function(e){return e.ui.productsPerPage})),r=Object(d.b)(),i=Object(l.useCallback)((function(e,n){return r(f.q(e,n))}),[r]);return Object(l.useEffect)((function(){i(t,v.p.MY_PRODUCTS),(null===c||void 0===c?void 0:c.pathname.startsWith("/product/"))||Object(P.k)()}),[t,i,a,n,c]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(I.a,{title:"Your offers - E-Shopping",description:"Check out your offers"}),Object(A.jsx)(k.a,{variant:"h3",children:"My products"}),Object(A.jsx)(R.a,{page:v.p.MY_PRODUCTS})]})},M=t(151),H=t(150),Y=b.c.div(S||(S=Object(h.a)(["\n  position: relative;\n"]))),B=b.c.div(D||(D=Object(h.a)(["\n  padding: "," 0;\n  border-bottom: 1px solid ",";\n\n  &:first-child {\n    padding-top: 0;\n  }\n"])),(function(e){return e.theme.spacings.level3}),(function(e){return e.theme.colors.light3})),G=t(22),U=t(56),V=t(359),W=t(58),F=function(e){var n=e.orders,t=e.orderType,c=Object(d.c)((function(e){return e.ui.isDataLoading})),a=n.map((function(e){var n,c,a=t===v.n.PLACED_ORDERS?null===(n=e.seller)||void 0===n?void 0:n.username:null===(c=e.buyer)||void 0===c?void 0:c.username,r=t===v.n.PLACED_ORDERS?"seller ":"buyer ";return Object(A.jsxs)(B,{children:[Object(A.jsxs)(y.a,{justify:"space-between",align:"flex-end",spacing:"3",children:[Object(A.jsxs)(N.a,{size:"3",children:[Object(A.jsx)("span",{children:r}),a?Object(A.jsx)(u.Link,{to:"/user/".concat(a,"?p=1"),"data-testid":"OrderList-user-link",children:Object(A.jsx)(U.a,{children:a})}):Object(A.jsx)(N.a,{fStyle:"italic","data-testid":"OrderList-account-deleted",children:"(account has been deleted)"})]}),Object(A.jsx)(N.a,{size:"2",children:Object(P.c)(e.createdAt)})]}),e.products.map((function(n){return Object(A.jsx)(V.a,{data:n,orderId:e._id},n._id)})),Object(A.jsxs)(y.a,{mgTop:"3",justify:"space-between",align:"center",spacing:"3",children:[Object(A.jsx)(u.Link,{to:"/order/".concat(e._id),"data-testid":"OrderList-order-details-link",children:Object(A.jsx)(E.a,{children:"details"})}),Object(A.jsxs)("div",{children:[Object(A.jsx)(N.a,{size:"3",mgRight:"1",spacing:"1px",color:G.a.colors.light4,children:"TOTAL"}),Object(A.jsx)(N.a,{size:"5",children:Object(P.d)(e.overallPrice)})]})]})]},e._id)})),r=c?Object(A.jsx)(W.a,{}):null;return Object(A.jsxs)(Y,{children:[a,r]})},q=t(15),J=t(59),Q=t(35),K=t.n(Q),X={};X.Wrapper=b.c.div(L||(L=Object(h.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  margin-right: ",";\n\n  & .label {\n    font-size: ",";\n    margin-right: ",";\n  }\n\n  & .select {\n    font-size: ",";\n    flex: 1;\n    max-width: 22rem;\n    z-index: ",";\n  }\n"])),(function(e){return e.theme.spacings.level2}),(function(e){return e.theme.fontSizes.level3}),(function(e){return e.theme.spacings.level2}),(function(e){return e.theme.fontSizes.level2}),(function(e){return e.theme.zIndexes.level2}));var Z={control:function(e){return Object(o.a)(Object(o.a)({},e),{},{minHeight:"25px"})},dropdownIndicator:function(e){return Object(o.a)(Object(o.a)({},e),{},{padding:"0.6rem"})}},$=function(){var e=Object(l.useState)(v.u[0]),n=Object(q.a)(e,2),t=n[0],c=n[1],a=Object(j.k)(),r=a.location,i=r.search,s=r.pathname;return Object(A.jsxs)(X.Wrapper,{children:[Object(A.jsx)("label",{htmlFor:"sortOption",className:"label",children:"Sort"}),Object(A.jsx)(J.a,{options:v.u,value:t,onChange:function(e){if(e.value!==t.value){c(e);var n=Object(P.g)(i);n.sortBy=e.value;var r=K.a.stringify(n);a.replace("".concat(s,"?").concat(r))}},isSearchable:!1,styles:Z,id:"sortOption",className:"select"})]})},ee=t(51),ne=function(e){var n=e.orders,t=e.type,c=Object(j.l)().search,a=Object(d.c)((function(e){return e.auth.orderCount})),r=Object(d.b)(),i=Object(l.useCallback)((function(e,n){return r(f.n(e,n))}),[r]);Object(l.useEffect)((function(){i(c,t)}),[i,t,c]);var s=Object(A.jsx)(ee.a,{align:"center"});return null===n?s=Object(A.jsx)(k.a,{variant:"h4",align:"center","data-testid":"Orders-error",children:t===v.n.PLACED_ORDERS?"There is a problem to fetch your placed orders":"There is a problem to fetch your sell history"}):n&&(n.length<=0?s=Object(A.jsx)(k.a,{variant:"h4",align:"center","data-testid":"Orders-no-orders-info",children:t===v.n.PLACED_ORDERS?"You don't have any placed orders yet":"Your sell history is empty"}):a>0&&(s=Object(A.jsxs)(g.a,{children:[Object(A.jsxs)(U.b,{children:[Object(A.jsx)($,{}),Object(A.jsx)(M.a,{itemQuantity:a,quantityPerPage:v.d})]}),Object(A.jsx)(F,{orders:n,orderType:t}),Object(A.jsx)(H.a,{itemQuantity:a,itemsType:v.j.ORDER,quantityPerPage:v.d})]}))),s},te=function(){var e=Object(z.useLastLocation)(),n=Object(d.c)((function(e){return e.auth.sellHistory}));return Object(l.useEffect)((function(){(null===e||void 0===e?void 0:e.pathname.startsWith("/order/"))||Object(P.k)()}),[e]),Object(A.jsxs)(p,{children:[Object(A.jsx)(I.a,{title:"Your sell history - E-Shopping",description:"Check out your sell history"}),Object(A.jsx)(k.a,{variant:"h3",children:"My sell history"}),Object(A.jsx)(ne,{orders:n,type:v.n.SELL_HISTORY})]})},ce=function(){var e=Object(z.useLastLocation)(),n=Object(d.c)((function(e){return e.auth.placedOrders}));return Object(l.useEffect)((function(){(null===e||void 0===e?void 0:e.pathname.startsWith("/order/"))||Object(P.k)()}),[e]),Object(A.jsxs)(p,{children:[Object(A.jsx)(I.a,{title:"Your placed orders - E-Shopping",description:"Check out orders that you placed"}),Object(A.jsx)(k.a,{variant:"h3",children:"My placed orders"}),Object(A.jsx)(ne,{orders:n,type:v.n.PLACED_ORDERS})]})};n.default=function(){var e=Object(d.c)((function(e){return e.auth.profile})),n=null;e.status===v.y.ACTIVE&&(n=Object(A.jsx)("nav",{className:"nav","data-testid":"MyAccount-navigation",children:Object(A.jsxs)("ul",{className:"nav-list",children:[Object(A.jsx)("li",{children:Object(A.jsx)(u.NavLink,{to:"/my-account/data",className:"nav-link",activeClassName:"nav-link-active",children:"Data"})}),Object(A.jsx)("li",{children:Object(A.jsx)(u.NavLink,{to:"/my-account".concat(v.b),className:"nav-link",activeClassName:"nav-link-active",children:"Products"})}),Object(A.jsx)("li",{children:Object(A.jsx)(u.NavLink,{to:"/my-account/sell-history?p=1",className:"nav-link",activeClassName:"nav-link-active",children:"Sell history"})}),Object(A.jsx)("li",{children:Object(A.jsx)(u.NavLink,{to:"/my-account/placed-orders?p=1",className:"nav-link",activeClassName:"nav-link-active",children:"Placed orders"})})]})}));var t=Object(A.jsx)(m,{extraMargin:!1,"data-testid":"MyAccount-pending-user-routes",children:Object(A.jsxs)(j.g,{children:[Object(A.jsx)(j.d,{path:"/my-account/data",exact:!0,component:T}),Object(A.jsx)(j.c,{to:"/my-account/data"})]})});return e.status===v.y.ACTIVE&&(t=Object(A.jsx)(m,{extraMargin:!0,"data-testid":"MyAccount-active-user-routes",children:Object(A.jsxs)(j.g,{children:[Object(A.jsx)(j.d,{path:"/my-account/data",exact:!0,component:T}),Object(A.jsx)(j.d,{path:"/my-account/products",exact:!0,render:function(n){return Object(A.jsx)(_,Object(o.a)({userProfile:e},n))}}),Object(A.jsx)(j.d,{path:"/my-account/sell-history",exact:!0,component:te}),Object(A.jsx)(j.d,{path:"/my-account/placed-orders",exact:!0,component:ce}),Object(A.jsx)(j.c,{to:"/my-account/data"})]})})),Object(A.jsxs)(O,{children:[n,t]})}}}]);