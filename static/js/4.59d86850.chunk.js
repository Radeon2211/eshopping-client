(this["webpackJsonpeshopping-app-client"]=this["webpackJsonpeshopping-app-client"]||[]).push([[4],{199:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var a=t(4);function r(){var e=Object(a.a)(["\n  color: "," !important;\n  transition: color ","s;\n\n  &: hover {\n    color: "," !important;\n  }\n"]);return r=function(){return e},e}var i=t(2).c.span(r(),(function(e){return e.theme.colors.green}),(function(e){return e.theme.durations.level1}),(function(e){return e.theme.colors.greenDark}))},201:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(61),l=t(13),o=t(5),c=t(1),u=t(9),s=t(4),m=t(2);function d(){var e=Object(s.a)(["\n  min-height: 14rem;\n  position: relative;\n\n  & .photo-box {\n    align-items: center;\n    display: flex;\n    height: 45rem;\n    justify-content: center;\n    margin-right: ",";\n    padding: "," ",";\n    width: 100%;\n  }\n\n  & .photo {\n    object-fit: cover;\n    max-height: 100%;\n    max-width: 100%;\n  }\n\n  & .data-box {\n    align-self: stretch;\n    display: flex;\n    flex-direction: column;\n  }\n\n  & .name {\n    font-size: ",";\n    font-weight: 700;\n  }\n\n  & .seller {\n    font-size: ",";\n    margin-top: ",";\n  }\n\n  & .condition {\n    font-size: ",";\n    margin-top: ",";\n  }\n\n  & .price {\n    font-size: 2.7rem;\n    letter-spacing: 1px;\n    margin: "," 0;\n  }\n\n  & .quantity-sold {\n    font-size: ",";\n    margin-bottom: ",";\n  }\n\n  & .description-box {\n    display: flex;\n    flex-direction: column;\n    margin-top: ",";\n  }\n\n  & .description-heading {\n    display: inline-block;\n    font-size: ",";\n    font-weight: 700;\n    margin-bottom: ",";\n  }\n\n  & .description-content {\n    font-size: ",";\n  }\n\n  & .gray-text {\n    color: ",";\n  }\n\n  @media only screen and (max-width: 56.25em) {\n    & .photo-box {\n      margin-right: ",";\n    }\n  }\n"]);return d=function(){return e},e}var f=m.c.div(d(),(function(e){return e.theme.spacings.level5}),(function(e){return e.theme.spacings.level1}),(function(e){return e.theme.spacings.level2}),(function(e){return e.theme.fontSizes.level4}),(function(e){return e.theme.fontSizes.level2}),(function(e){return e.theme.spacings.level2}),(function(e){return e.theme.fontSizes.level2}),(function(e){return e.theme.spacings.level2}),(function(e){return e.theme.spacings.level3}),(function(e){return e.theme.fontSizes.level2}),(function(e){return e.theme.spacings.level3}),(function(e){return e.theme.spacings.level3}),(function(e){return e.theme.fontSizes.level4}),(function(e){return e.theme.spacings.level1}),(function(e){return e.theme.fontSizes.level3}),(function(e){return e.theme.colors.light4}),(function(e){return e.theme.spacings.level3})),p=t(59),h=t(78),g=t(23),v=t(31),b=t(12);function E(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n\n  & .quantity-box {\n    margin-bottom: ",";\n  }\n\n  & .quantity-text {\n    font-size: ",";\n  }\n\n  & .text {\n    font-size: ",";\n    font-weight: 700;\n  }\n"]);return E=function(){return e},e}function y(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-items: stretch;\n\n  & > button:not(:last-child) {\n    margin-bottom: ",";\n  }\n\n  & .info-quantity-box {\n    margin-bottom: ",";\n  }\n\n  & .choose-quantity-box {\n    align-items: center;\n    margin-bottom: ",";\n    display: flex;\n  }\n\n  & .quantity-number {\n    font-size: ",";\n    margin-left: ",";\n  }\n\n  & .not-able-to-add {\n    font-size: ",";\n    font-weight: 700;\n    margin-bottom: ",";\n    text-align: center;\n  }\n"]);return y=function(){return e},e}var x=m.c.div(y(),(function(e){return e.theme.spacings.level2}),(function(e){return e.theme.spacings.level2}),(function(e){return e.theme.spacings.level3}),(function(e){return e.theme.fontSizes.level2}),(function(e){return e.theme.spacings.level1}),(function(e){return e.theme.fontSizes.level4}),(function(e){return e.theme.spacings.level2})),O=m.c.div(E(),(function(e){return e.theme.spacings.level2}),(function(e){return e.theme.fontSizes.level2}),(function(e){return e.theme.fontSizes.level4})),j=t(19),z=t(76),N=t(17);function S(){return(S=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function k(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var q=r.a.createElement("path",{d:"M0 10h24v4H0z"}),w=function(e){var n=e.svgRef,t=e.title,a=k(e,["svgRef","title"]);return r.a.createElement("svg",S({viewBox:"0 0 24 24",width:24,height:24,ref:n},a),t?r.a.createElement("title",null,t):null,q)},C=r.a.forwardRef((function(e,n){return r.a.createElement(w,S({svgRef:n},e))})),_=(t.p,t(83)),D=t(53);function I(){var e=Object(s.a)(["\n  align-items: stretch;\n  display: flex;\n\n  & .button {\n    background-color: transparent;\n    border: 1px solid ",";\n    border-radius: 1px;\n    cursor: pointer;\n    outline: none;\n    padding: 0 ",";\n\n    &[disabled] {\n      cursor: default;\n    }\n\n    &.minus {\n      border-right: 0;\n    }\n\n    &.plus {\n      border-left: 0;\n    }\n  }\n"]);return I=function(){return e},e}var P={};P.Wrapper=m.c.div(I(),(function(e){return e.theme.colors.light4}),(function(e){return e.theme.spacings.level2}));var L=function(e){var n=e.name,t=e.value,a=e.maxQuantity,i=e.incremented,l=e.decremented,o=e.changed,c=e.blured;return r.a.createElement(P.Wrapper,null,r.a.createElement("button",{type:"button",className:"button minus",disabled:t<=1,onClick:l},r.a.createElement(N.a,{size:"small",color:t<=1?D.a.colors.light2:""},r.a.createElement(C,null))),r.a.createElement(z.a,{name:n,size:"small",value:t,changed:o,blured:c,focusable:!1}),r.a.createElement("button",{type:"button",className:"button plus",disabled:t>=a,onClick:i},r.a.createElement(N.a,{size:"small",color:t>=a?D.a.colors.light2:""},r.a.createElement(_.a,null))))},R=t(199),T=function(e){var n=e.productId,t=e.productQuantity,i=e.productSellerId,s=e.onSetModal,m=e.userProfile,d=Object(a.useState)(1),f=Object(b.a)(d,2),p=f[0],h=f[1],g=Object(o.c)((function(e){return e.auth.cart})),v=Object(o.c)((function(e){return e.ui.isCartLoading})),E=Object(o.b)(),y=Object(a.useCallback)((function(e){return E(u.a(e))}),[E]),z=r.a.createElement(O,null,r.a.createElement("div",{className:"info-quantity-box"},r.a.createElement("span",{className:"quantity-text gray-text"},"Quantity: "),r.a.createElement("span",{className:"quantity-number"},t)),r.a.createElement("span",{className:"text"},"You are the seller of this product"));if((null===m||void 0===m?void 0:m._id)!==i){var N=g.find((function(e){return e.product._id===n})),S=r.a.createElement(j.a,{filled:!0,clicked:function(){m?y({quantity:p,product:n}):s(!0,c.g.LOGIN)},loading:v?1:0},"Add to cart");(null===N||void 0===N?void 0:N.quantity)>=t&&(console.log("eeeeeeeeeeeee"),S=r.a.createElement("span",{className:"not-able-to-add"},"You have all pieces added to\xa0",r.a.createElement(l.Link,{to:"/cart"},r.a.createElement(R.a,null,"cart")))),z=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"choose-quantity-box"},r.a.createElement(L,{name:"quantity",maxQuantity:t,value:p,incremented:function(){p<t&&h((function(e){return e+1}))},decremented:function(){p>1&&h((function(e){return e-1}))},changed:function(e){var n=+e.target.value||"";n||h(n),n<1||n>t||h(n)},blured:function(e){var n=+e.target.value;h(!n||n<1?1:n>t?t:n)}}),r.a.createElement("span",{className:"quantity-number"},"of ".concat(t," piece").concat(t>1?"s":""),N?" (".concat(null===N||void 0===N?void 0:N.quantity," in cart)"):"")),S,r.a.createElement(j.a,{filled:!0,clicked:function(){m||s(!0,c.g.LOGIN)}},"buy now"))}return r.a.createElement(x,null,z)};T.defaultProps={productSellerId:void 0,userProfile:null};var Q=T,F=t(126),M=t.n(F),U=t(14),W=t(60);n.default=function(e){var n=e.match.params.id,t=Object(i.a)(),s=Object(o.c)((function(e){return e.auth.profile})),m=Object(o.c)((function(e){return e.product.productDetails})),d=Object(o.c)((function(e){return e.ui.isDataLoading})),b=Object(o.b)(),E=Object(a.useCallback)((function(e){return b(u.q(e))}),[b]),y=Object(a.useCallback)((function(){return b(u.n())}),[b]),x=Object(a.useCallback)((function(e,n){return b(u.w(e,n))}),[b]);Object(a.useEffect)((function(){return E(n),function(){return y()}}),[n,E,y]);var O=null;d&&(O=r.a.createElement(p.a,{alignLoader:"start"}));var z=null;if(null===m)z=r.a.createElement(g.a,{variant:"h4",align:"center"},"Such product does not exist or has already been sold");else if(m){var N=m.condition,S=m.description,k=m.name,q=m.photo,w=m.price,C=m.quantity,_=m.quantitySold,D=m.seller,I=m._id,P="not_applicable"!==N?N:"not applicable",L=null;_>=1&&(L=r.a.createElement("span",{className:"quantity-sold gray-text"},1===_?"1 person":"".concat(_," people")," bought"));var T=r.a.createElement("span",{className:"description-heading"},"This product has no description");S&&(T=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"description-heading"},"Description"),r.a.createElement("span",{className:"description-content"},S)));var F=(null===s||void 0===s?void 0:s._id)===D._id,A=null,G=null;F&&(A=r.a.createElement(j.a,{color:"blue",clicked:function(){return x(!0,c.g.EDIT_PRODUCT)},"data-test":"edit-button"},"Edit offer")),(F||(null===s||void 0===s?void 0:s.isAdmin))&&(G=r.a.createElement(j.a,{color:"red",clicked:function(){return x(!0,c.g.DELETE_PRODUCT)},"data-test":"delete-button"},"Delete offer"));var J=null;(G||A)&&(J=r.a.createElement(W.a,{mgTop:"level5"},A,G)),z=r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{proportion:t<=900?"1/1":"3/2",makeVerticalWhen:600},r.a.createElement("div",{className:"photo-box"},r.a.createElement("img",{src:q?"".concat(U.a,"/products/").concat(I,"/photo"):M.a,alt:"product",className:"photo"})),r.a.createElement("div",{className:"data-box"},r.a.createElement("span",{className:"name"},k),r.a.createElement("span",{className:"seller"},r.a.createElement("span",{className:"gray-text"},"from "),r.a.createElement(l.Link,{to:"/users/".concat(D._id)},r.a.createElement(R.a,null,D.username))),r.a.createElement("span",{className:"condition"},r.a.createElement("span",{className:"gray-text"},"Condition: "),"".concat(P.slice(0,1).toUpperCase()).concat(P.slice(1))),r.a.createElement("span",{className:"price"},"$",w.toFixed(2)),L,r.a.createElement(Q,{productId:n,productQuantity:C,productSellerId:D._id,onSetModal:x,userProfile:s}))),r.a.createElement("div",{className:"description-box"},T),J)}return r.a.createElement(h.a,null,r.a.createElement(f,null,O,z))}}}]);