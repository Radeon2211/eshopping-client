{"version":3,"file":"static/js/213.daef1131.chunk.js","mappings":"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","sources":["components/UI/DeliveryAddress/DeliveryAddress.js","containers/OrderDetails/OrderDetails.sc.js","containers/OrderDetails/OrderDetails.js"],"sourcesContent":["import PropTypes from 'prop-types';\r\nimport FlexWrapper from '../FlexWrapper';\r\nimport PlainText from '../PlainText';\r\nimport * as propTypes from '../../../shared/propTypes';\r\n\r\nexport default function DeliveryAddress({ data }) {\r\n  const { firstName, lastName, street, zipCode, city, country, phone } = data;\r\n\r\n  const rowValues = [`${firstName} ${lastName}`, street, `${zipCode} ${city}`, country, phone];\r\n\r\n  return (\r\n    <FlexWrapper $direction=\"column\" $spacing=\"1\">\r\n      {rowValues.map((value, idx) => (\r\n        <PlainText key={idx} $size=\"3\" $wordBreak=\"break-all\">\r\n          {value}\r\n        </PlainText>\r\n      ))}\r\n    </FlexWrapper>\r\n  );\r\n}\r\n\r\nDeliveryAddress.propTypes = {\r\n  data: PropTypes.shape(propTypes.deliveryAddressStrings).isRequired,\r\n};\r\n","import styled from 'styled-components';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const Wrapper = styled.div`\r\n  font-size: ${({ theme }) => theme.fontSizes.level3};\r\n  margin: 0 auto;\r\n  max-width: 100%;\r\n  width: 80rem;\r\n`;\r\n","import { useEffect, useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport * as actions from '../../store/actions/indexActions';\r\nimport * as SC from './OrderDetails.sc';\r\nimport PlainPanel from '../../components/UI/Panels/PlainPanel';\r\nimport Heading from '../../components/UI/Heading/Heading';\r\nimport Loader from '../../components/UI/Loader/Loader';\r\nimport PlainText from '../../components/UI/PlainText';\r\nimport FlexWrapper from '../../components/UI/FlexWrapper';\r\nimport TransactionAndOrderProdItem from '../../components/TransactionAndOrderProdItem/TransactionAndOrderProdItem';\r\nimport DeliveryAddress from '../../components/UI/DeliveryAddress/DeliveryAddress';\r\nimport { formatOrderDate, formatPrice, scrollToTop } from '../../shared/utility/utility';\r\nimport { GreenText } from '../../styled/components';\r\nimport theme from '../../styled/theme';\r\nimport MetaDescriptor from '../../components/MetaDescriptor/MetaDescriptor';\r\n\r\nexport default function OrderDetails() {\r\n  const { id: orderId } = useParams();\r\n\r\n  const orderDetails = useSelector((state) => state.auth.orderDetails);\r\n\r\n  const dispatch = useDispatch();\r\n  const onFetchOrderDetails = useCallback(\r\n    (id) => dispatch(actions.fetchOrderDetails(id)),\r\n    [dispatch],\r\n  );\r\n  const onSetOrderDetails = useCallback(() => dispatch(actions.setOrderDetails()), [dispatch]);\r\n\r\n  useEffect(() => {\r\n    onFetchOrderDetails(orderId);\r\n    scrollToTop();\r\n    return () => onSetOrderDetails();\r\n  }, [orderId, onFetchOrderDetails, onSetOrderDetails]);\r\n\r\n  let content = <Loader align=\"center\" />;\r\n  if (orderDetails === null) {\r\n    content = (\r\n      <Heading $variant=\"h4\" $align=\"center\" $lineHeight=\"4\" data-testid=\"OrderDetails-error\">\r\n        There is a problem to fetch order details or given order does not exist\r\n      </Heading>\r\n    );\r\n  } else if (orderDetails) {\r\n    const { _id, seller, buyer, deliveryAddress, products, overallPrice, createdAt } = orderDetails;\r\n\r\n    const generalInfoSection = (\r\n      <div data-testid=\"OrderDetails-general-info-section\">\r\n        <Heading $variant=\"h4\" $mgBottom=\"2\">\r\n          General info\r\n        </Heading>\r\n        <FlexWrapper $direction=\"column\" $spacing=\"1\">\r\n          <div>\r\n            <PlainText $weight=\"700\">Order number:&nbsp;</PlainText>\r\n            <PlainText $size=\"3\">{_id}</PlainText>\r\n          </div>\r\n          <div>\r\n            <PlainText $weight=\"700\">Transaction date:&nbsp;</PlainText>\r\n            <PlainText $size=\"3\">{formatOrderDate(createdAt)}</PlainText>\r\n          </div>\r\n          <div>\r\n            <PlainText $weight=\"700\">Buyer:&nbsp;</PlainText>\r\n            <PlainText $size=\"3\">\r\n              {buyer ? (\r\n                <Link to={`/user/${buyer.username}?p=1`} data-testid=\"OrderDetails-buyer-link\">\r\n                  <GreenText>{buyer.username}</GreenText>\r\n                </Link>\r\n              ) : (\r\n                <i data-testid=\"OrderDetails-buyer-deleted\">(account has been deleted)</i>\r\n              )}\r\n            </PlainText>\r\n          </div>\r\n        </FlexWrapper>\r\n      </div>\r\n    );\r\n\r\n    const infoAboutSellerSection = (\r\n      <div data-testid=\"OrderDetails-info-about-seller\">\r\n        <Heading $variant=\"h4\" $mgBottom=\"2\">\r\n          Info about seller\r\n        </Heading>\r\n        {seller ? (\r\n          <FlexWrapper $direction=\"column\" $spacing=\"1\" data-test=\"OrderDetails-seller-info\">\r\n            <div data-testid=\"OrderDetails-seller-username\">\r\n              <PlainText $weight=\"700\">Username:&nbsp;</PlainText>\r\n              <PlainText $size=\"3\">\r\n                <Link to={`/user/${seller.username}?p=1`} data-testid=\"OrderDetails-seller-link\">\r\n                  <GreenText>{seller.username}</GreenText>\r\n                </Link>\r\n              </PlainText>\r\n            </div>\r\n            <div data-testid=\"OrderDetails-seller-email\">\r\n              <PlainText $weight=\"700\">Email:&nbsp;</PlainText>\r\n              <PlainText $size=\"3\">{seller.email}</PlainText>\r\n            </div>\r\n            <div data-testid=\"OrderDetails-seller-phone\">\r\n              <PlainText $weight=\"700\">Phone:&nbsp;</PlainText>\r\n              <PlainText $size=\"3\">{seller.phone}</PlainText>\r\n            </div>\r\n          </FlexWrapper>\r\n        ) : (\r\n          <i data-testid=\"OrderDetails-seller-deleted\">(account has been deleted)</i>\r\n        )}\r\n      </div>\r\n    );\r\n\r\n    const deliveryAddressSection = (\r\n      <div data-testid=\"OrderDetails-delivery-address-section\">\r\n        <Heading $variant=\"h4\" $mgBottom=\"2\">\r\n          Delivery address\r\n        </Heading>\r\n        <DeliveryAddress data={deliveryAddress} />\r\n      </div>\r\n    );\r\n\r\n    const productsSection = (\r\n      <>\r\n        <Heading $variant=\"h4\" $mgTop=\"3\">\r\n          Products\r\n        </Heading>\r\n        {products.map((product) => (\r\n          <TransactionAndOrderProdItem key={product._id} data={product} orderId={_id} />\r\n        ))}\r\n        <PlainText $display=\"block\" $mgTop=\"3\" $textAlign=\"right\">\r\n          <PlainText $color={theme.colors.light4} $spacing=\"1px\" $mgRight=\"1\">\r\n            TOTAL\r\n          </PlainText>\r\n          <PlainText $size=\"5\">{formatPrice(overallPrice)}</PlainText>\r\n        </PlainText>\r\n      </>\r\n    );\r\n\r\n    content = (\r\n      <SC.Wrapper>\r\n        <PlainPanel>\r\n          <FlexWrapper $direction=\"column\" $spacing=\"3\">\r\n            {generalInfoSection}\r\n            {infoAboutSellerSection}\r\n            {deliveryAddressSection}\r\n          </FlexWrapper>\r\n          {productsSection}\r\n        </PlainPanel>\r\n      </SC.Wrapper>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MetaDescriptor title=\"Order details - E-Shopping\" />\r\n      {content}\r\n    </>\r\n  );\r\n}\r\n"],"names":["DeliveryAddress","_ref","data","firstName","lastName","street","zipCode","city","country","phone","rowValues","concat","_jsx","FlexWrapper","$direction","$spacing","children","map","value","idx","PlainText","$size","$wordBreak","Wrapper","styled","div","_templateObject","_taggedTemplateLiteral","theme","fontSizes","level3","OrderDetails","id","orderId","useParams","orderDetails","useSelector","state","auth","dispatch","useDispatch","onFetchOrderDetails","useCallback","actions","onSetOrderDetails","useEffect","scrollToTop","content","Loader","align","Heading","$variant","$align","$lineHeight","_id","seller","buyer","deliveryAddress","products","overallPrice","createdAt","generalInfoSection","_jsxs","$mgBottom","$weight","formatOrderDate","Link","to","username","GreenText","infoAboutSellerSection","email","deliveryAddressSection","productsSection","_Fragment","$mgTop","product","TransactionAndOrderProdItem","$display","$textAlign","$color","colors","light4","$mgRight","formatPrice","SC","PlainPanel","MetaDescriptor","title"],"sourceRoot":""}