{"version":3,"sources":["images/icons/minus.svg","components/UI/ChooseQuantity/ChooseQuantity.js","containers/ProductDetails/ProductDetails.sc.js","containers/ProductDetails/PurchaseSection/PurchaseSection.sc.js","containers/ProductDetails/PurchaseSection/PurchaseSection.js","containers/ProductDetails/ProductDetails.js"],"names":["_path","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgMinus","_ref","svgRef","title","titleId","props","xmlns","viewBox","width","height","ref","id","d","ForwardRef","SC","ChooseQuantity","name","value","maxQuantity","incremented","decremented","changed","blured","focused","Wrapper","type","className","disabled","onClick","data-testid","aria-label","MyIcon","size","color","themeStyles","colors","light2","NumberInput","styled","div","theme","light4","spacings","level2","defaultProps","level5","level1","level3","PurchaseSection","productId","productQuantity","productSellerUsername","onSetModal","userProfile","history","useHistory","useState","chosenQuantity","setChosenQuantity","cart","useSelector","state","auth","isCartLoading","ui","dispatch","useDispatch","onAddCartItem","useCallback","item","actions","onGoToTransaction","currentHistory","purchaseSection","PlainText","Heading","variant","mgTop","username","givenProductInCart","find","product","_id","addToCartBtn","Button","filled","stretch","clicked","status","userStatuses","ACTIVE","modalTypes","PENDING_USER_INFO","quantity","LOGIN","isLoading","align","mgBottom","to","FlexWrapper","prevState","e","mgLeft","undefined","ProductDetails","useParams","windowSize","useWindowSize","profile","productDetails","onFetchProductDetails","onSetProductDetails","modalContent","useEffect","scrollToTop","pageTitle","details","Loader","lineHeight","condition","description","photo","price","quantitySold","buyerQuantity","seller","quantitySoldNode","descriptionSection","userIsOwner","editProductBtn","deleteProductBtn","EDIT_PRODUCT","isAdmin","DELETE_PRODUCT","manageButtonsBox","justify","spacing","conditionText","productConditions","NOT_APPLICABLE","PlainPanel","SideBySide","proportion","makeVerticalWhen","src","process","noPhoto","alt","slice","toUpperCase","formatPrice","MetaDescriptor"],"mappings":"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","file":"static/js/7.c08cfd38.chunk.js","sourcesContent":["var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMinus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 10h24v4H0z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinus);\nexport default __webpack_public_path__ + \"static/media/minus.320e05e9.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport NumberInput from '../NumberInput/NumberInput';\r\nimport MyIcon from '../MyIcon';\r\nimport { ReactComponent as MinusIcon } from '../../../images/icons/minus.svg';\r\nimport { ReactComponent as PlusIcon } from '../../../images/icons/plus.svg';\r\nimport themeStyles from '../../../styled/theme';\r\n\r\nconst SC = {};\r\nSC.Wrapper = styled.div`\r\n  align-items: stretch;\r\n  display: flex;\r\n\r\n  & .button {\r\n    background-color: transparent;\r\n    border: 1px solid ${({ theme }) => theme.colors.light4};\r\n    border-radius: 1px;\r\n    cursor: pointer;\r\n    outline: none;\r\n    padding: 0 ${({ theme }) => theme.spacings.level2};\r\n\r\n    &[disabled] {\r\n      cursor: default;\r\n    }\r\n\r\n    &.minus {\r\n      border-right: 0;\r\n    }\r\n\r\n    &.plus {\r\n      border-left: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function ChooseQuantity(props) {\r\n  const { name, value, maxQuantity, incremented, decremented, changed, blured, focused } = props;\r\n\r\n  return (\r\n    <SC.Wrapper>\r\n      <button\r\n        type=\"button\"\r\n        className=\"button minus\"\r\n        disabled={value <= 1}\r\n        onClick={decremented}\r\n        data-testid=\"ChooseQuantity-minus-btn\"\r\n        aria-label=\"Decrease product quantity\"\r\n      >\r\n        <MyIcon\r\n          size=\"small\"\r\n          color={value <= 1 ? themeStyles.colors.light2 : ''}\r\n          data-testid=\"ChooseQuantity-minus-icon\"\r\n        >\r\n          <MinusIcon />\r\n        </MyIcon>\r\n      </button>\r\n      <NumberInput\r\n        name={name}\r\n        size=\"small\"\r\n        value={value}\r\n        changed={changed}\r\n        blured={blured}\r\n        focused={focused}\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        className=\"button plus\"\r\n        disabled={value >= maxQuantity}\r\n        onClick={incremented}\r\n        data-testid=\"ChooseQuantity-plus-btn\"\r\n        aria-label=\"Increase product quantity\"\r\n      >\r\n        <MyIcon\r\n          size=\"small\"\r\n          color={value >= maxQuantity ? themeStyles.colors.light2 : ''}\r\n          data-testid=\"ChooseQuantity-plus-icon\"\r\n        >\r\n          <PlusIcon />\r\n        </MyIcon>\r\n      </button>\r\n    </SC.Wrapper>\r\n  );\r\n}\r\n\r\nChooseQuantity.defaultProps = {\r\n  focused: () => {},\r\n};\r\n\r\nChooseQuantity.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\r\n  maxQuantity: PropTypes.number.isRequired,\r\n  incremented: PropTypes.func.isRequired,\r\n  decremented: PropTypes.func.isRequired,\r\n  changed: PropTypes.func.isRequired,\r\n  blured: PropTypes.func.isRequired,\r\n  focused: PropTypes.func,\r\n};\r\n","import styled from 'styled-components';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const Wrapper = styled.div`\r\n  & .photo-section {\r\n    align-items: center;\r\n    display: flex;\r\n    height: 45rem;\r\n    justify-content: center;\r\n    margin-right: ${({ theme }) => theme.spacings.level5};\r\n    padding: ${({ theme }) => theme.spacings.level1} ${({ theme }) => theme.spacings.level2};\r\n    width: 100%;\r\n  }\r\n\r\n  & .photo {\r\n    object-fit: cover;\r\n    max-height: 100%;\r\n    max-width: 100%;\r\n  }\r\n\r\n  & .data-section {\r\n    align-self: stretch;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  @media only screen and (max-width: 56.25em) {\r\n    & .photo-section {\r\n      margin-right: ${({ theme }) => theme.spacings.level3};\r\n    }\r\n  }\r\n`;\r\n","import styled from 'styled-components';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  & > button:not(:last-child) {\r\n    margin-bottom: ${({ theme }) => theme.spacings.level2};\r\n  }\r\n`;\r\n","import React, { useState, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport * as SC from './PurchaseSection.sc';\r\nimport * as actions from '../../../store/actions/indexActions';\r\nimport Button from '../../../components/UI/Button/Button';\r\nimport ChooseQuantity from '../../../components/UI/ChooseQuantity/ChooseQuantity';\r\nimport PlainText from '../../../components/UI/PlainText';\r\nimport FlexWrapper from '../../../components/UI/FlexWrapper';\r\nimport Heading from '../../../components/UI/Heading/Heading';\r\nimport { GreenText } from '../../../styled/components';\r\nimport theme from '../../../styled/theme';\r\nimport { modalTypes, userStatuses } from '../../../shared/constants';\r\nimport * as propTypes from '../../../shared/propTypes';\r\n\r\nexport default function PurchaseSection(props) {\r\n  const { productId, productQuantity, productSellerUsername, onSetModal, userProfile } = props;\r\n\r\n  const history = useHistory();\r\n\r\n  const [chosenQuantity, setChosenQuantity] = useState(1);\r\n\r\n  const cart = useSelector((state) => state.auth.cart);\r\n  const isCartLoading = useSelector((state) => state.ui.isCartLoading);\r\n\r\n  const dispatch = useDispatch();\r\n  const onAddCartItem = useCallback((item) => dispatch(actions.addCartItem(item)), [dispatch]);\r\n  const onGoToTransaction = useCallback(\r\n    (currentHistory, item) => dispatch(actions.goToTransaction(currentHistory, item)),\r\n    [dispatch],\r\n  );\r\n\r\n  const inputChangeHandle = (e) => {\r\n    const value = +e.target.value || '';\r\n    if (!value) {\r\n      setChosenQuantity(value);\r\n      return;\r\n    }\r\n    if (value < 1 || value > productQuantity) return;\r\n    setChosenQuantity(value);\r\n  };\r\n\r\n  const inputBlurHandle = (e) => {\r\n    const value = +e.target.value;\r\n    if (!value || value < 1) {\r\n      setChosenQuantity(1);\r\n    } else if (value > productQuantity) {\r\n      setChosenQuantity(productQuantity);\r\n    } else {\r\n      setChosenQuantity(value);\r\n    }\r\n  };\r\n\r\n  const incrementQuantityHandle = () => {\r\n    if (chosenQuantity < productQuantity) {\r\n      setChosenQuantity((prevState) => prevState + 1);\r\n    }\r\n  };\r\n\r\n  const decrementQuantityHandle = () => {\r\n    if (chosenQuantity > 1) {\r\n      setChosenQuantity((prevState) => prevState - 1);\r\n    }\r\n  };\r\n\r\n  const addToCartClickHandle = () => {\r\n    if (!userProfile) {\r\n      onSetModal(modalTypes.LOGIN);\r\n    } else if (userProfile?.status !== userStatuses.ACTIVE) {\r\n      onSetModal(modalTypes.PENDING_USER_INFO);\r\n    } else {\r\n      onAddCartItem({\r\n        quantity: chosenQuantity,\r\n        product: productId,\r\n      });\r\n    }\r\n  };\r\n\r\n  const buyNowClickHandle = () => {\r\n    if (!userProfile) {\r\n      onSetModal(modalTypes.LOGIN);\r\n    } else if (userProfile?.status !== userStatuses.ACTIVE) {\r\n      onSetModal(modalTypes.PENDING_USER_INFO);\r\n    } else {\r\n      onGoToTransaction(history, {\r\n        product: productId,\r\n        quantity: chosenQuantity,\r\n      });\r\n    }\r\n  };\r\n\r\n  let purchaseSection = (\r\n    <>\r\n      <PlainText size=\"2\">{`Quantity: ${productQuantity}`}</PlainText>\r\n      <Heading variant=\"h4\" mgTop=\"3\">\r\n        You are the seller of this product\r\n      </Heading>\r\n    </>\r\n  );\r\n\r\n  if (userProfile?.username !== productSellerUsername) {\r\n    let givenProductInCart = null;\r\n    if (cart) {\r\n      givenProductInCart = cart.find((item) => item.product._id === productId);\r\n    }\r\n    let addToCartBtn = (\r\n      <Button filled stretch clicked={addToCartClickHandle} isLoading={isCartLoading}>\r\n        add to cart\r\n      </Button>\r\n    );\r\n    if (givenProductInCart?.quantity >= productQuantity) {\r\n      addToCartBtn = (\r\n        <Heading\r\n          variant=\"h4\"\r\n          align=\"center\"\r\n          mgBottom=\"2\"\r\n          data-testid=\"PurchaseSection-not-able-to-add\"\r\n        >\r\n          You have added all pieces to&nbsp;\r\n          <Link to=\"/cart\">\r\n            <GreenText>cart</GreenText>\r\n          </Link>\r\n        </Heading>\r\n      );\r\n    }\r\n\r\n    purchaseSection = (\r\n      <>\r\n        <FlexWrapper\r\n          align=\"center\"\r\n          mgBottom=\"3\"\r\n          data-testid=\"PurchaseSection-choose-quantity-wrapper\"\r\n        >\r\n          <ChooseQuantity\r\n            name=\"quantity\"\r\n            maxQuantity={productQuantity}\r\n            value={chosenQuantity}\r\n            incremented={incrementQuantityHandle}\r\n            decremented={decrementQuantityHandle}\r\n            changed={inputChangeHandle}\r\n            blured={inputBlurHandle}\r\n          />\r\n          <PlainText size=\"2\" mgLeft=\"1\" data-testid=\"PurchaseSection-product-quantity\">\r\n            {`of ${productQuantity} piece${productQuantity > 1 ? 's' : ''}`}\r\n            {givenProductInCart && (\r\n              <PlainText color={theme.colors.light4} data-testid=\"PurchaseSection-quantity-in-cart\">\r\n                &nbsp;\r\n                {`(${givenProductInCart.quantity} in cart)`}\r\n              </PlainText>\r\n            )}\r\n          </PlainText>\r\n        </FlexWrapper>\r\n        {addToCartBtn}\r\n        <Button filled stretch clicked={buyNowClickHandle} isLoading={isCartLoading}>\r\n          buy now\r\n        </Button>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return <SC.Wrapper>{purchaseSection}</SC.Wrapper>;\r\n}\r\n\r\nPurchaseSection.defaultProps = {\r\n  productSellerUsername: undefined,\r\n  userProfile: null,\r\n};\r\n\r\nPurchaseSection.propTypes = {\r\n  productId: PropTypes.string.isRequired,\r\n  productQuantity: PropTypes.number.isRequired,\r\n  productSellerUsername: PropTypes.string,\r\n  onSetModal: PropTypes.func.isRequired,\r\n  userProfile: PropTypes.shape(propTypes.userProfile),\r\n};\r\n","import React, { useCallback, useEffect } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport * as actions from '../../store/actions/indexActions';\r\nimport * as SC from './ProductDetails.sc';\r\nimport Loader from '../../components/UI/Loader/Loader';\r\nimport PlainPanel from '../../components/UI/Panels/PlainPanel';\r\nimport PlainText from '../../components/UI/PlainText';\r\nimport Heading from '../../components/UI/Heading/Heading';\r\nimport SideBySide from '../../components/UI/SideBySide';\r\nimport PurchaseSection from './PurchaseSection/PurchaseSection';\r\nimport Button from '../../components/UI/Button/Button';\r\nimport noPhoto from '../../images/no-photo.png';\r\nimport { GreenText } from '../../styled/components';\r\nimport FlexWrapper from '../../components/UI/FlexWrapper';\r\nimport theme from '../../styled/theme';\r\nimport { formatPrice, scrollToTop } from '../../shared/utility/utility';\r\nimport { modalTypes, productConditions } from '../../shared/constants';\r\nimport useWindowSize from '../../shared/useWindowSize';\r\nimport MetaDescriptor from '../../components/MetaDescriptor/MetaDescriptor';\r\n\r\nexport default function ProductDetails() {\r\n  const { id: productId } = useParams();\r\n\r\n  const windowSize = useWindowSize();\r\n\r\n  const userProfile = useSelector((state) => state.auth.profile);\r\n  const productDetails = useSelector((state) => state.product.productDetails);\r\n\r\n  const dispatch = useDispatch();\r\n  const onFetchProductDetails = useCallback(\r\n    (id) => dispatch(actions.fetchProductDetails(id)),\r\n    [dispatch],\r\n  );\r\n  const onSetProductDetails = useCallback(() => dispatch(actions.setProductDetails()), [dispatch]);\r\n  const onSetModal = useCallback(\r\n    (modalContent) => dispatch(actions.setModal(modalContent)),\r\n    [dispatch],\r\n  );\r\n\r\n  useEffect(() => {\r\n    onFetchProductDetails(productId);\r\n    scrollToTop();\r\n    return () => onSetProductDetails();\r\n  }, [productId, onFetchProductDetails, onSetProductDetails]);\r\n\r\n  let pageTitle = 'Offer is loading... - E-Shopping';\r\n  let details = <Loader align=\"center\" />;\r\n  if (productDetails === null) {\r\n    pageTitle = 'Offer does not exist - E-Shopping';\r\n    details = (\r\n      <Heading variant=\"h4\" align=\"center\" lineHeight=\"4\">\r\n        Such product does not exist or has already been sold\r\n      </Heading>\r\n    );\r\n  } else if (productDetails) {\r\n    const {\r\n      condition,\r\n      description,\r\n      name,\r\n      photo,\r\n      price,\r\n      quantity,\r\n      quantitySold,\r\n      buyerQuantity,\r\n      seller,\r\n      _id,\r\n    } = productDetails;\r\n\r\n    pageTitle = `${name} - E-Shopping`;\r\n\r\n    let quantitySoldNode = null;\r\n    if (quantitySold >= 1) {\r\n      quantitySoldNode = (\r\n        <PlainText\r\n          size=\"2\"\r\n          mgBottom=\"3\"\r\n          color={theme.colors.light4}\r\n          data-testid=\"ProductDetails-quantity-sold\"\r\n        >\r\n          {buyerQuantity === 1 ? '1 person' : `${buyerQuantity} people`} bought {quantitySold}{' '}\r\n          {quantitySold === 1 ? 'unit' : 'units'}\r\n        </PlainText>\r\n      );\r\n    }\r\n\r\n    let descriptionSection = (\r\n      <Heading variant=\"h4\" mgTop=\"3\" data-testid=\"ProductDetails-no-description\">\r\n        This product has no description\r\n      </Heading>\r\n    );\r\n    if (description) {\r\n      descriptionSection = (\r\n        <section data-testid=\"ProductDetails-full-description\">\r\n          <Heading variant=\"h4\" mgBottom=\"2\" mgTop=\"3\">\r\n            Description\r\n          </Heading>\r\n          <PlainText size=\"3\" lineHeight=\"5\">\r\n            {description}\r\n          </PlainText>\r\n        </section>\r\n      );\r\n    }\r\n\r\n    const userIsOwner = userProfile?.username === seller.username;\r\n\r\n    let editProductBtn = null;\r\n    let deleteProductBtn = null;\r\n    if (userIsOwner) {\r\n      editProductBtn = (\r\n        <Button\r\n          color=\"blue\"\r\n          clicked={() => onSetModal(modalTypes.EDIT_PRODUCT)}\r\n          data-testid=\"ProductDetails-edit-button\"\r\n        >\r\n          Edit offer\r\n        </Button>\r\n      );\r\n    }\r\n    if (userIsOwner || userProfile?.isAdmin) {\r\n      deleteProductBtn = (\r\n        <Button\r\n          color=\"red\"\r\n          clicked={() => onSetModal(modalTypes.DELETE_PRODUCT)}\r\n          data-testid=\"ProductDetails-delete-button\"\r\n        >\r\n          Delete offer\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    let manageButtonsBox = null;\r\n    if (deleteProductBtn || editProductBtn) {\r\n      manageButtonsBox = (\r\n        <FlexWrapper mgTop=\"5\" justify=\"center\" spacing=\"3\">\r\n          {editProductBtn}\r\n          {deleteProductBtn}\r\n        </FlexWrapper>\r\n      );\r\n    }\r\n\r\n    const conditionText =\r\n      condition !== productConditions.NOT_APPLICABLE ? condition : 'not applicable';\r\n\r\n    details = (\r\n      <PlainPanel>\r\n        <SC.Wrapper>\r\n          <SideBySide proportion={windowSize.width <= 900 ? '1/1' : '3/2'} makeVerticalWhen={600}>\r\n            <section className=\"photo-section\">\r\n              <img\r\n                src={photo ? `${process.env.REACT_APP_API_URL}/products/${_id}/photo` : noPhoto}\r\n                alt={name}\r\n                className=\"photo\"\r\n              />\r\n            </section>\r\n            <section className=\"data-section\">\r\n              <Heading variant=\"h4\">{name}</Heading>\r\n              <PlainText size=\"2\" mgTop=\"2\" mgBottom=\"2\">\r\n                <PlainText color={theme.colors.light4}>from&nbsp;</PlainText>\r\n                <Link to={`/user/${seller.username}?p=1`} data-testid=\"ProductDetails-seller-link\">\r\n                  <GreenText>{seller.username}</GreenText>\r\n                </Link>\r\n              </PlainText>\r\n              <PlainText size=\"2\">\r\n                <PlainText color={theme.colors.light4}>Condition:</PlainText>\r\n                {` ${conditionText.slice(0, 1).toUpperCase()}${conditionText.slice(1)}`}\r\n              </PlainText>\r\n              <PlainText size=\"6\" spacing=\"1px\" mgTop=\"3\" mgBottom=\"3\">\r\n                {formatPrice(price)}\r\n              </PlainText>\r\n              {quantitySoldNode}\r\n              <PurchaseSection\r\n                productId={productId}\r\n                productQuantity={quantity}\r\n                productSellerUsername={seller.username}\r\n                onSetModal={onSetModal}\r\n                userProfile={userProfile}\r\n              />\r\n            </section>\r\n          </SideBySide>\r\n          {descriptionSection}\r\n          {manageButtonsBox}\r\n        </SC.Wrapper>\r\n      </PlainPanel>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MetaDescriptor title={pageTitle} description=\"Check out details about this products\" />\r\n      {details}\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}