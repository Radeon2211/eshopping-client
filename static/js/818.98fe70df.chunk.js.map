{"version":3,"file":"static/js/818.98fe70df.chunk.js","mappings":"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","sources":["components/UI/ChooseQuantity/ChooseQuantity.sc.tsx","images/icons/minus.svg","components/UI/ChooseQuantity/ChooseQuantity.tsx","containers/ProductDetails/ProductDetails.sc.js","containers/ProductDetails/PurchaseSection/PurchaseSection.sc.js","containers/ProductDetails/PurchaseSection/PurchaseSection.js","containers/ProductDetails/ProductDetails.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  align-items: stretch;\n  display: flex;\n\n  & .button {\n    background-color: transparent;\n    border: 1px solid ${({ theme }) => theme.colors.light4};\n    border-radius: 1px;\n    cursor: pointer;\n    outline: none;\n    padding: 0 ${({ theme }) => theme.spacings.level2};\n\n    &[disabled] {\n      cursor: default;\n    }\n\n    &.minus {\n      border-right: 0;\n    }\n\n    &.plus {\n      border-left: 0;\n    }\n  }\n`;\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgMinus(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 10h24v4H0z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinus);\nexport default __webpack_public_path__ + \"static/media/minus.320e05e915100cbae5ee32d108b1bcc1.svg\";\nexport { ForwardRef as ReactComponent };","import PropTypes from 'prop-types';\nimport * as SC from './ChooseQuantity.sc';\nimport NumberInput from '../NumberInput/NumberInput';\nimport MyIcon from '../MyIcon';\nimport { ReactComponent as MinusIcon } from '../../../images/icons/minus.svg';\nimport { ReactComponent as PlusIcon } from '../../../images/icons/plus.svg';\nimport themeStyles from '../../../styled/theme';\n\nexport interface ChooseQuantityProps {\n  name: string;\n  value: number;\n  maxQuantity: number;\n  incremented: () => void;\n  decremented: () => void;\n  changed: () => void;\n  blured: () => void;\n  focused?: () => void;\n}\n\nexport default function ChooseQuantity(props: ChooseQuantityProps) {\n  const { name, value, maxQuantity, incremented, decremented, changed, blured, focused } = props;\n\n  return (\n    <SC.Wrapper>\n      <button\n        type=\"button\"\n        className=\"button minus\"\n        disabled={value <= 1}\n        onClick={decremented}\n        data-testid=\"ChooseQuantity-minus-btn\"\n        aria-label=\"Decrease product quantity\"\n      >\n        <MyIcon\n          $size=\"small\"\n          $color={value <= 1 ? themeStyles.colors.light2 : ''}\n          data-testid=\"ChooseQuantity-minus-icon\"\n        >\n          <MinusIcon />\n        </MyIcon>\n      </button>\n      <NumberInput\n        name={name}\n        size=\"small\"\n        value={value}\n        changed={changed}\n        blured={blured}\n        focused={focused}\n      />\n      <button\n        type=\"button\"\n        className=\"button plus\"\n        disabled={value >= maxQuantity}\n        onClick={incremented}\n        data-testid=\"ChooseQuantity-plus-btn\"\n        aria-label=\"Increase product quantity\"\n      >\n        <MyIcon\n          $size=\"small\"\n          $color={value >= maxQuantity ? themeStyles.colors.light2 : ''}\n          data-testid=\"ChooseQuantity-plus-icon\"\n        >\n          <PlusIcon />\n        </MyIcon>\n      </button>\n    </SC.Wrapper>\n  );\n}\n\nChooseQuantity.defaultProps = {\n  focused: () => {},\n};\n\nChooseQuantity.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n  maxQuantity: PropTypes.number.isRequired,\n  incremented: PropTypes.func.isRequired,\n  decremented: PropTypes.func.isRequired,\n  changed: PropTypes.func.isRequired,\n  blured: PropTypes.func.isRequired,\n  focused: PropTypes.func,\n};\n","import styled from 'styled-components';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const Wrapper = styled.div`\r\n  & .photo-section {\r\n    align-items: center;\r\n    display: flex;\r\n    height: 45rem;\r\n    justify-content: center;\r\n    margin-right: ${({ theme }) => theme.spacings.level5};\r\n    padding: ${({ theme }) => theme.spacings.level1} ${({ theme }) => theme.spacings.level2};\r\n    width: 100%;\r\n  }\r\n\r\n  & .photo {\r\n    object-fit: cover;\r\n    max-height: 100%;\r\n    max-width: 100%;\r\n  }\r\n\r\n  & .data-section {\r\n    align-self: stretch;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  @media only screen and (max-width: 56.25em) {\r\n    & .photo-section {\r\n      margin-right: ${({ theme }) => theme.spacings.level3};\r\n    }\r\n  }\r\n`;\r\n","import styled from 'styled-components';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  & > button:not(:last-child) {\r\n    margin-bottom: ${({ theme }) => theme.spacings.level2};\r\n  }\r\n`;\r\n","import { useState, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport * as SC from './PurchaseSection.sc';\r\nimport * as actions from '../../../store/actions/indexActions';\r\nimport Button from '../../../components/UI/Button/Button';\r\nimport ChooseQuantity from '../../../components/UI/ChooseQuantity/ChooseQuantity';\r\nimport PlainText from '../../../components/UI/PlainText';\r\nimport FlexWrapper from '../../../components/UI/FlexWrapper';\r\nimport Heading from '../../../components/UI/Heading/Heading';\r\nimport { GreenText } from '../../../styled/components';\r\nimport theme from '../../../styled/theme';\r\nimport * as propTypes from '../../../shared/propTypes';\r\nimport { ModalType, ProfileStatus } from '../../../shared/types/types';\r\n\r\nexport default function PurchaseSection(props) {\r\n  const { productId, productQuantity, productSellerUsername, onSetModal, userProfile } = props;\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const [chosenQuantity, setChosenQuantity] = useState(1);\r\n\r\n  const cart = useSelector((state) => state.auth.cart);\r\n  const isCartLoading = useSelector((state) => state.ui.isCartLoading);\r\n\r\n  const dispatch = useDispatch();\r\n  const onAddCartItem = useCallback((item) => dispatch(actions.addCartItem(item)), [dispatch]);\r\n  const onGoToTransaction = useCallback(\r\n    (navigateFn, item) => dispatch(actions.goToTransaction(navigateFn, item)),\r\n    [dispatch],\r\n  );\r\n\r\n  const inputChangeHandle = (e) => {\r\n    const value = +e.target.value || '';\r\n    if (!value) {\r\n      setChosenQuantity(value);\r\n      return;\r\n    }\r\n    if (value < 1 || value > productQuantity) return;\r\n    setChosenQuantity(value);\r\n  };\r\n\r\n  const inputBlurHandle = (e) => {\r\n    const value = +e.target.value;\r\n    if (!value || value < 1) {\r\n      setChosenQuantity(1);\r\n    } else if (value > productQuantity) {\r\n      setChosenQuantity(productQuantity);\r\n    } else {\r\n      setChosenQuantity(value);\r\n    }\r\n  };\r\n\r\n  const incrementQuantityHandle = () => {\r\n    if (chosenQuantity < productQuantity) {\r\n      setChosenQuantity((prevState) => prevState + 1);\r\n    }\r\n  };\r\n\r\n  const decrementQuantityHandle = () => {\r\n    if (chosenQuantity > 1) {\r\n      setChosenQuantity((prevState) => prevState - 1);\r\n    }\r\n  };\r\n\r\n  const addToCartClickHandle = () => {\r\n    if (!userProfile) {\r\n      onSetModal(ModalType.LOGIN);\r\n    } else if (userProfile?.status !== ProfileStatus.ACTIVE) {\r\n      onSetModal(ModalType.PENDING_USER_INFO);\r\n    } else {\r\n      onAddCartItem({\r\n        quantity: chosenQuantity,\r\n        product: productId,\r\n      });\r\n    }\r\n  };\r\n\r\n  const buyNowClickHandle = () => {\r\n    if (!userProfile) {\r\n      onSetModal(ModalType.LOGIN);\r\n    } else if (userProfile?.status !== ProfileStatus.ACTIVE) {\r\n      onSetModal(ModalType.PENDING_USER_INFO);\r\n    } else {\r\n      onGoToTransaction(navigate, {\r\n        product: productId,\r\n        quantity: chosenQuantity,\r\n      });\r\n    }\r\n  };\r\n\r\n  let purchaseSection = (\r\n    <>\r\n      <PlainText $size=\"level2\">{`Quantity: ${productQuantity}`}</PlainText>\r\n      <Heading $variant=\"h4\" $mgTop=\"level3\">\r\n        You are the seller of this product\r\n      </Heading>\r\n    </>\r\n  );\r\n\r\n  if (userProfile?.username !== productSellerUsername) {\r\n    let givenProductInCart = null;\r\n    if (cart) {\r\n      givenProductInCart = cart.find((item) => item.product._id === productId);\r\n    }\r\n    let addToCartBtn = (\r\n      <Button $filled $stretch clicked={addToCartClickHandle} isLoading={isCartLoading}>\r\n        add to cart\r\n      </Button>\r\n    );\r\n    if (givenProductInCart?.quantity >= productQuantity) {\r\n      addToCartBtn = (\r\n        <Heading\r\n          $variant=\"h4\"\r\n          $align=\"center\"\r\n          $mgBottom=\"2\"\r\n          data-testid=\"PurchaseSection-not-able-to-add\"\r\n        >\r\n          You have added all pieces to&nbsp;\r\n          <Link to=\"/cart\">\r\n            <GreenText>cart</GreenText>\r\n          </Link>\r\n        </Heading>\r\n      );\r\n    }\r\n\r\n    purchaseSection = (\r\n      <>\r\n        <FlexWrapper\r\n          $align=\"center\"\r\n          $mgBottom=\"level3\"\r\n          data-testid=\"PurchaseSection-choose-quantity-wrapper\"\r\n        >\r\n          <ChooseQuantity\r\n            name=\"quantity\"\r\n            maxQuantity={productQuantity}\r\n            value={chosenQuantity}\r\n            incremented={incrementQuantityHandle}\r\n            decremented={decrementQuantityHandle}\r\n            changed={inputChangeHandle}\r\n            blured={inputBlurHandle}\r\n          />\r\n          <PlainText $size=\"level2\" $mgLeft=\"level1\" data-testid=\"PurchaseSection-product-quantity\">\r\n            {`of ${productQuantity} piece${productQuantity > 1 ? 's' : ''}`}\r\n            {givenProductInCart && (\r\n              <PlainText\r\n                $color={theme.colors.light4}\r\n                data-testid=\"PurchaseSection-quantity-in-cart\"\r\n              >\r\n                &nbsp;\r\n                {`(${givenProductInCart.quantity} in cart)`}\r\n              </PlainText>\r\n            )}\r\n          </PlainText>\r\n        </FlexWrapper>\r\n        {addToCartBtn}\r\n        <Button $filled $stretch clicked={buyNowClickHandle} isLoading={isCartLoading}>\r\n          buy now\r\n        </Button>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return <SC.Wrapper>{purchaseSection}</SC.Wrapper>;\r\n}\r\n\r\nPurchaseSection.defaultProps = {\r\n  productSellerUsername: undefined,\r\n  userProfile: null,\r\n};\r\n\r\nPurchaseSection.propTypes = {\r\n  productId: PropTypes.string.isRequired,\r\n  productQuantity: PropTypes.number.isRequired,\r\n  productSellerUsername: PropTypes.string,\r\n  onSetModal: PropTypes.func.isRequired,\r\n  userProfile: PropTypes.shape(propTypes.userProfile),\r\n};\r\n","import { useCallback, useEffect } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport * as actions from '../../store/actions/indexActions';\r\nimport * as SC from './ProductDetails.sc';\r\nimport Loader from '../../components/UI/Loader/Loader';\r\nimport PlainPanel from '../../components/UI/Panels/PlainPanel';\r\nimport PlainText from '../../components/UI/PlainText';\r\nimport Heading from '../../components/UI/Heading/Heading';\r\nimport SideBySide from '../../components/UI/SideBySide';\r\nimport PurchaseSection from './PurchaseSection/PurchaseSection';\r\nimport Button from '../../components/UI/Button/Button';\r\nimport noPhoto from '../../images/no-photo.png';\r\nimport { GreenText } from '../../styled/components';\r\nimport FlexWrapper from '../../components/UI/FlexWrapper';\r\nimport theme from '../../styled/theme';\r\nimport { formatPrice, scrollToTop } from '../../shared/utility/utility';\r\nimport useWindowSize from '../../shared/hooks/useWindowSize';\r\nimport MetaDescriptor from '../../components/MetaDescriptor/MetaDescriptor';\r\nimport { ModalType } from '../../shared/types/types';\r\nimport { ProductCondition } from '../../shared/types/enums';\r\n\r\nexport default function ProductDetails() {\r\n  const { id: productId } = useParams();\r\n\r\n  const windowSize = useWindowSize();\r\n\r\n  const userProfile = useSelector((state) => state.auth.profile);\r\n  const productDetails = useSelector((state) => state.product.productDetails);\r\n\r\n  const dispatch = useDispatch();\r\n  const onFetchProductDetails = useCallback(\r\n    (id) => dispatch(actions.fetchProductDetails(id)),\r\n    [dispatch],\r\n  );\r\n  const onSetProductDetails = useCallback(() => dispatch(actions.setProductDetails()), [dispatch]);\r\n  const onSetModal = useCallback(\r\n    (modalContent) => dispatch(actions.setModal(modalContent)),\r\n    [dispatch],\r\n  );\r\n\r\n  useEffect(() => {\r\n    onFetchProductDetails(productId);\r\n    scrollToTop();\r\n    return () => onSetProductDetails();\r\n  }, [productId, onFetchProductDetails, onSetProductDetails]);\r\n\r\n  let pageTitle = 'Offer is loading... - E-Shopping';\r\n  let details = <Loader align=\"center\" />;\r\n  if (productDetails === null) {\r\n    pageTitle = 'Offer does not exist - E-Shopping';\r\n    details = (\r\n      <Heading $variant=\"h4\" $align=\"center\" $lineHeight=\"level4\">\r\n        Such product does not exist or has already been sold\r\n      </Heading>\r\n    );\r\n  } else if (productDetails) {\r\n    const {\r\n      condition,\r\n      description,\r\n      name,\r\n      photo,\r\n      price,\r\n      quantity,\r\n      quantitySold,\r\n      buyerQuantity,\r\n      seller,\r\n      _id,\r\n    } = productDetails;\r\n\r\n    pageTitle = `${name} - E-Shopping`;\r\n\r\n    let quantitySoldNode = null;\r\n    if (quantitySold >= 1) {\r\n      quantitySoldNode = (\r\n        <PlainText\r\n          $size=\"level2\"\r\n          $mgBottom=\"level3\"\r\n          $color={theme.colors.light4}\r\n          data-testid=\"ProductDetails-quantity-sold\"\r\n        >\r\n          {buyerQuantity === 1 ? '1 person' : `${buyerQuantity} people`} bought {quantitySold}{' '}\r\n          {quantitySold === 1 ? 'unit' : 'units'}\r\n        </PlainText>\r\n      );\r\n    }\r\n\r\n    let descriptionSection = (\r\n      <Heading $variant=\"h4\" $mgTop=\"level3\" data-testid=\"ProductDetails-no-description\">\r\n        This product has no description\r\n      </Heading>\r\n    );\r\n    if (description) {\r\n      descriptionSection = (\r\n        <section data-testid=\"ProductDetails-full-description\">\r\n          <Heading $variant=\"h4\" $mgBottom=\"level2\" $mgTop=\"level3\">\r\n            Description\r\n          </Heading>\r\n          <PlainText $size=\"level3\" $lineHeight=\"level5\">\r\n            {description}\r\n          </PlainText>\r\n        </section>\r\n      );\r\n    }\r\n\r\n    const userIsOwner = userProfile?.username === seller.username;\r\n\r\n    let editProductBtn = null;\r\n    let deleteProductBtn = null;\r\n    if (userIsOwner) {\r\n      editProductBtn = (\r\n        <Button\r\n          $color=\"blue\"\r\n          clicked={() => onSetModal(ModalType.EDIT_PRODUCT)}\r\n          data-testid=\"ProductDetails-edit-button\"\r\n        >\r\n          Edit offer\r\n        </Button>\r\n      );\r\n    }\r\n    if (userIsOwner || userProfile?.isAdmin) {\r\n      deleteProductBtn = (\r\n        <Button\r\n          $color=\"red\"\r\n          clicked={() => onSetModal(ModalType.DELETE_PRODUCT)}\r\n          data-testid=\"ProductDetails-delete-button\"\r\n        >\r\n          Delete offer\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    let manageButtonsBox = null;\r\n    if (deleteProductBtn || editProductBtn) {\r\n      manageButtonsBox = (\r\n        <FlexWrapper $mgTop=\"level5\" $justify=\"center\" $spacing=\"level3\">\r\n          {editProductBtn}\r\n          {deleteProductBtn}\r\n        </FlexWrapper>\r\n      );\r\n    }\r\n\r\n    const conditionText =\r\n      condition !== ProductCondition.NOT_APPLICABLE ? condition : 'not applicable';\r\n\r\n    details = (\r\n      <PlainPanel>\r\n        <SC.Wrapper>\r\n          <SideBySide $proportion={windowSize.width <= 900 ? '1/1' : '3/2'} $makeVerticalWhen={600}>\r\n            <section className=\"photo-section\">\r\n              <img\r\n                src={photo ? `${process.env.REACT_APP_API_URL}/products/${_id}/photo` : noPhoto}\r\n                alt={name}\r\n                className=\"photo\"\r\n              />\r\n            </section>\r\n            <section className=\"data-section\">\r\n              <Heading $variant=\"h4\">{name}</Heading>\r\n              <PlainText $size=\"level2\" $mgTop=\"level2\" $mgBottom=\"level2\">\r\n                <PlainText $color={theme.colors.light4}>from&nbsp;</PlainText>\r\n                <Link to={`/user/${seller.username}?p=1`} data-testid=\"ProductDetails-seller-link\">\r\n                  <GreenText>{seller.username}</GreenText>\r\n                </Link>\r\n              </PlainText>\r\n              <PlainText $size=\"level2\">\r\n                <PlainText $color={theme.colors.light4}>Condition:</PlainText>\r\n                {` ${conditionText.slice(0, 1).toUpperCase()}${conditionText.slice(1)}`}\r\n              </PlainText>\r\n              <PlainText $size=\"level6\" $spacing=\"1px\" $mgTop=\"level3\" $mgBottom=\"level3\">\r\n                {formatPrice(price)}\r\n              </PlainText>\r\n              {quantitySoldNode}\r\n              <PurchaseSection\r\n                productId={productId}\r\n                productQuantity={quantity}\r\n                productSellerUsername={seller.username}\r\n                onSetModal={onSetModal}\r\n                userProfile={userProfile}\r\n              />\r\n            </section>\r\n          </SideBySide>\r\n          {descriptionSection}\r\n          {manageButtonsBox}\r\n        </SC.Wrapper>\r\n      </PlainPanel>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MetaDescriptor title={pageTitle} description=\"Check out details about this products\" />\r\n      {details}\r\n    </>\r\n  );\r\n}\r\n"],"names":["Wrapper","styled","div","_templateObject","_taggedTemplateLiteral","_ref","theme","colors","light4","_ref2","spacings","level2","_path","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgMinus","svgRef","title","titleId","props","xmlns","viewBox","width","height","ref","id","d","ForwardRef","ChooseQuantity","name","value","maxQuantity","incremented","decremented","changed","blured","focused","_jsxs","SC","children","_jsx","type","className","disabled","onClick","MyIcon","$size","$color","themeStyles","light2","MinusIcon","NumberInput","size","PlusIcon","defaultProps","level5","level1","_ref3","_ref4","level3","PurchaseSection","productId","productQuantity","productSellerUsername","onSetModal","userProfile","navigate","useNavigate","chosenQuantity","setChosenQuantity","useState","cart","useSelector","state","auth","isCartLoading","ui","dispatch","useDispatch","onAddCartItem","useCallback","item","actions","onGoToTransaction","navigateFn","inputChangeHandle","e","inputBlurHandle","incrementQuantityHandle","prevState","decrementQuantityHandle","addToCartClickHandle","status","ProfileStatus","ACTIVE","ModalType","PENDING_USER_INFO","quantity","product","LOGIN","buyNowClickHandle","purchaseSection","_Fragment","PlainText","concat","Heading","$variant","$mgTop","username","_givenProductInCart","givenProductInCart","find","_id","addToCartBtn","Button","$filled","$stretch","clicked","isLoading","$align","$mgBottom","Link","to","GreenText","FlexWrapper","$mgLeft","undefined","ProductDetails","useParams","windowSize","useWindowSize","profile","productDetails","onFetchProductDetails","onSetProductDetails","modalContent","useEffect","scrollToTop","pageTitle","details","Loader","align","$lineHeight","condition","description","photo","price","quantitySold","buyerQuantity","seller","quantitySoldNode","descriptionSection","userIsOwner","editProductBtn","deleteProductBtn","EDIT_PRODUCT","isAdmin","DELETE_PRODUCT","manageButtonsBox","$justify","$spacing","conditionText","ProductCondition","NOT_APPLICABLE","PlainPanel","SideBySide","$proportion","$makeVerticalWhen","src","process","noPhoto","alt","slice","toUpperCase","formatPrice","MetaDescriptor"],"sourceRoot":""}